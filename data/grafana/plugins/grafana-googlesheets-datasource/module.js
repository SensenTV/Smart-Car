/*! For license information please see module.js.LICENSE.txt */
/* [create-plugin] version: 6.6.0 */
/* [create-plugin] plugin: grafana-googlesheets-datasource@2.3.0 */
define(["@grafana/ui","@emotion/css","rxjs","module","@grafana/runtime","@grafana/data","react"],(e,t,n,r,o,i,a)=>(()=>{"use strict";var u={7(t){t.exports=e},89(e){e.exports=t},192(e,t,n){var r=n(959),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,s=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(s=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:s,props:i,_owner:u.current}}t.jsx=c,t.jsxs=c},269(e){e.exports=n},308(e){e.exports=r},531(e){e.exports=o},540(e,t,n){e.exports=n(192)},781(e){e.exports=i},959(e){e.exports=a}},l={};function c(e){var t=l[e];if(void 0!==t)return t.exports;var n=l[e]={exports:{}};return u[e](n,n.exports,c),n.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.p="public/plugins/grafana-googlesheets-datasource/";var s={};c.r(s),c.d(s,{plugin:()=>Ne});var f=c(308),p=c.n(f);c.p=p()&&p().uri?p().uri.slice(0,p().uri.lastIndexOf("/")+1):"public/plugins/grafana-googlesheets-datasource/";var h=c(781),d=c(7),v=c(959),g=c.n(v),y=c(531),m=c(89);function _(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function b(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){_(i,r,o,a,u,"next",e)}function u(e){_(i,r,o,a,u,"throw",e)}a(void 0)})}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){w(e,t,n[t])})}return e}function E(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function j(e,t){var n;if(t)return null!==(n=e.find(e=>e.value===t))&&void 0!==n?n:t}function S(e){if(void 0!==e)return"string"==typeof e?e:e.value}function k(e){let t=`https://docs.google.com/spreadsheets/d/${e.spreadsheet}/view`;return e.range&&(t+="#range="+e.range),t}const x=(e=300)=>e<60?e+"s":e<3600?e/60+"m":e/3600+"h";class P extends v.PureComponent{componentDidMount(){this.props.query.hasOwnProperty("cacheDurationSeconds")||this.props.onChange(E(O({},this.props.query),{cacheDurationSeconds:300})),this.updateSelectedSheetOption()}componentDidUpdate(e){e.query.spreadsheet!==this.props.query.spreadsheet&&this.updateSelectedSheetOption()}render(){const{query:e,onRunQuery:t,onChange:n,datasource:r}=this.props,{selectedSheetOption:o}=this.state,i=I();return g().createElement(g().Fragment,null,g().createElement(d.InlineFieldRow,{className:i.rowSpacing},g().createElement(d.InlineFormLabel,{width:10,className:"query-keyword",tooltip:g().createElement("p",null,"The ",g().createElement("code",null,"spreadsheetId")," is used to identify which spreadsheet is to be accessed or altered. This ID is the value between the &quot/d/&quot and the &quot/edit&quot in the URL of your spreadsheet.")},"Spreadsheet ID"),g().createElement(d.SegmentAsync,{loadOptions:()=>b(function*(){const e=yield r.getSpreadSheets(),{query:t}=this.props,n=j(e,t.spreadsheet);return S(o)!==S(n)&&this.setState({selectedSheetOption:n}),e}).call(this),placeholder:"Enter SpreadsheetID",value:null!=o?o:e.spreadsheet,allowCustomValue:!0,onChange:this.onSpreadsheetIDChange}),e.spreadsheet&&g().createElement(d.LinkButton,{style:{marginTop:1},"aria-label":"Open link",fill:"text",icon:"link",href:k(e),target:"_blank",onClick:()=>(0,y.reportInteraction)("grafana_google_sheets_document_opened",{})}),g().createElement(D,null)),g().createElement(d.InlineFieldRow,{className:i.rowSpacing},g().createElement(d.InlineFormLabel,{width:10,className:"query-keyword",tooltip:g().createElement("p",null,"A string like ",g().createElement("code",null,"Sheet1!A1:B2"),", that refers to a group of cells in the spreadsheet, and is typically used in formulas. Named ranges are also supported. When a named range conflicts with a sheet’s name, the named range is preferred.")},"Range"),g().createElement(d.Input,{width:30,value:e.range||"",onChange:this.onRangeChange,onBlur:t,placeholder:"Class Data!A2:E",className:i.marginRight}),g().createElement(D,null)),g().createElement(d.InlineFieldRow,{className:i.rowSpacing},g().createElement(d.InlineFormLabel,{width:10,className:"query-keyword",tooltip:"Time in seconds that the spreadsheet will be cached in Grafana after receiving a response from the spreadsheet API"},"Cache Time"),g().createElement(d.Segment,{value:{label:x(e.cacheDurationSeconds),value:e.cacheDurationSeconds},options:[0,5,10,30,60,120,300,600,1800,3600,7200,18e3].map(e=>({label:x(e),value:e,description:e?"":"Response is not cached at all"})),onChange:({value:t})=>{(0,y.reportInteraction)("grafana_google_sheets_cache_updated",{secondsValue:t}),n(E(O({},e),{cacheDurationSeconds:t}))}}),g().createElement(D,null)),g().createElement(d.InlineFieldRow,{className:i.rowSpacing},g().createElement(d.InlineFormLabel,{width:10,className:"query-keyword",tooltip:"Apply the dashboard time range to the first time fieldAPI"},"Use Time Filter"),g().createElement(d.InlineSwitch,{className:i.marginRight,value:!0===e.useTimeFilter,onChange:this.toggleUseTimeFilter}),g().createElement(D,null)))}constructor(...e){var t;super(...e),t=this,w(this,"state",{selectedSheetOption:void 0}),w(this,"updateSelectedSheetOption",()=>b(function*(){const{query:e,datasource:n}=t.props;if(e.spreadsheet)try{const r=yield n.getSpreadSheets();t.setState({selectedSheetOption:j(r,e.spreadsheet)})}catch(n){t.setState({selectedSheetOption:e.spreadsheet})}else t.setState({selectedSheetOption:void 0})})()),w(this,"onRangeChange",e=>{this.props.onChange(E(O({},this.props.query),{range:e.target.value}))}),w(this,"onSpreadsheetIDChange",e=>{const{query:t,onRunQuery:n,onChange:r}=this.props;if(!e.value)return void this.setState({selectedSheetOption:void 0});const o=e.value;this.setState({selectedSheetOption:e}),/(.*)\/spreadsheets\/d\/(.*)/.test(o)?r(O({},t,function(e){let t=null==e?void 0:e.indexOf("/d/");if(!t)return{spreadsheet:e};let n=e.substring(t+3);if(t=n.indexOf("/"),t&&(n=n.substring(0,t)),t=e.indexOf("range="),t>0)return{spreadsheet:n,range:e.substring(t+6)};return{spreadsheet:n}}(o))):r(E(O({},t),{spreadsheet:o})),n()}),w(this,"toggleUseTimeFilter",e=>{const{query:t,onChange:n,onRunQuery:r}=this.props;(0,y.reportInteraction)("grafana_google_sheets_time_filter_toggled",{checked:!t.useTimeFilter}),n(E(O({},t),{useTimeFilter:!t.useTimeFilter})),r()})}}const D=()=>{const e=I();return g().createElement(d.InlineFormLabel,{className:e.rowTerminator},g().createElement(g().Fragment,null))},I=()=>({rowSpacing:(0,m.css)({marginBottom:"4px"}),rowTerminator:(0,m.css)({flexGrow:1}),marginRight:(0,m.css)({marginRight:"4px"})}),C={JWT:"jwt",GCE:"gce"};var T,F="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==c.g?c.g:"undefined"!=typeof self?self:{},A={exports:{}};var R,W,L=(T||(T=1,R=A,W=A.exports,function(){var e,t="Expected a function",n="__lodash_hash_undefined__",r="__lodash_placeholder__",o=32,i=128,a=256,u=1/0,l=9007199254740991,c=NaN,s=4294967295,f=[["ary",i],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",o],["partialRight",64],["rearg",a]],p="[object Arguments]",h="[object Array]",d="[object Boolean]",v="[object Date]",g="[object Error]",y="[object Function]",m="[object GeneratorFunction]",_="[object Map]",b="[object Number]",w="[object Object]",O="[object Promise]",E="[object RegExp]",j="[object Set]",S="[object String]",k="[object Symbol]",x="[object WeakMap]",P="[object ArrayBuffer]",D="[object DataView]",I="[object Float32Array]",C="[object Float64Array]",T="[object Int8Array]",A="[object Int16Array]",L="[object Int32Array]",U="[object Uint8Array]",J="[object Uint8ClampedArray]",N="[object Uint16Array]",q="[object Uint32Array]",z=/\b__p \+= '';/g,B=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,V=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,$=RegExp(V.source),M=RegExp(K.source),Q=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,Y=/<%=([\s\S]+?)%>/g,H=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,oe=/\s/,ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ce=/[()=,{}\[\]\/\s]/,se=/\\(\\)?/g,fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pe=/\w*$/,he=/^[-+]0x[0-9a-f]+$/i,de=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,me=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,be=/['\n\r\u2028\u2029\\]/g,we="\\ud800-\\udfff",Oe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ee="\\u2700-\\u27bf",je="a-z\\xdf-\\xf6\\xf8-\\xff",Se="A-Z\\xc0-\\xd6\\xd8-\\xde",ke="\\ufe0e\\ufe0f",xe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="['’]",De="["+we+"]",Ie="["+xe+"]",Ce="["+Oe+"]",Te="\\d+",Fe="["+Ee+"]",Ae="["+je+"]",Re="[^"+we+xe+Te+Ee+je+Se+"]",We="\\ud83c[\\udffb-\\udfff]",Le="[^"+we+"]",Ue="(?:\\ud83c[\\udde6-\\uddff]){2}",Je="[\\ud800-\\udbff][\\udc00-\\udfff]",Ne="["+Se+"]",qe="\\u200d",ze="(?:"+Ae+"|"+Re+")",Be="(?:"+Ne+"|"+Re+")",Ge="(?:['’](?:d|ll|m|re|s|t|ve))?",Ve="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ke="(?:"+Ce+"|"+We+")?",$e="["+ke+"]?",Me=$e+Ke+"(?:"+qe+"(?:"+[Le,Ue,Je].join("|")+")"+$e+Ke+")*",Qe="(?:"+[Fe,Ue,Je].join("|")+")"+Me,Ze="(?:"+[Le+Ce+"?",Ce,Ue,Je,De].join("|")+")",Ye=RegExp(Pe,"g"),He=RegExp(Ce,"g"),Xe=RegExp(We+"(?="+We+")|"+Ze+Me,"g"),et=RegExp([Ne+"?"+Ae+"+"+Ge+"(?="+[Ie,Ne,"$"].join("|")+")",Be+"+"+Ve+"(?="+[Ie,Ne+ze,"$"].join("|")+")",Ne+"?"+ze+"+"+Ge,Ne+"+"+Ve,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Te,Qe].join("|"),"g"),tt=RegExp("["+qe+we+Oe+ke+"]"),nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,it={};it[I]=it[C]=it[T]=it[A]=it[L]=it[U]=it[J]=it[N]=it[q]=!0,it[p]=it[h]=it[P]=it[d]=it[D]=it[v]=it[g]=it[y]=it[_]=it[b]=it[w]=it[E]=it[j]=it[S]=it[x]=!1;var at={};at[p]=at[h]=at[P]=at[D]=at[d]=at[v]=at[I]=at[C]=at[T]=at[A]=at[L]=at[_]=at[b]=at[w]=at[E]=at[j]=at[S]=at[k]=at[U]=at[J]=at[N]=at[q]=!0,at[g]=at[y]=at[x]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,ct=parseInt,st="object"==typeof F&&F&&F.Object===Object&&F,ft="object"==typeof self&&self&&self.Object===Object&&self,pt=st||ft||Function("return this")(),ht=W&&!W.nodeType&&W,dt=ht&&R&&!R.nodeType&&R,vt=dt&&dt.exports===ht,gt=vt&&st.process,yt=function(){try{var e=dt&&dt.require&&dt.require("util").types;return e||gt&&gt.binding&&gt.binding("util")}catch(e){}}(),mt=yt&&yt.isArrayBuffer,_t=yt&&yt.isDate,bt=yt&&yt.isMap,wt=yt&&yt.isRegExp,Ot=yt&&yt.isSet,Et=yt&&yt.isTypedArray;function jt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function St(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function kt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function xt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Dt(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function It(e,t){return!(null==e||!e.length)&&Nt(e,t,0)>-1}function Ct(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Tt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Ft(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function At(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Rt(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Wt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Lt=Gt("length");function Ut(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}function Jt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Nt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Jt(e,zt,n)}function qt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function zt(e){return e!=e}function Bt(e,t){var n=null==e?0:e.length;return n?$t(e,t)/n:c}function Gt(t){return function(n){return null==n?e:n[t]}}function Vt(t){return function(n){return null==t?e:t[n]}}function Kt(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function $t(t,n){for(var r,o=-1,i=t.length;++o<i;){var a=n(t[o]);a!==e&&(r=r===e?a:r+a)}return r}function Mt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Qt(e){return e?e.slice(0,hn(e)+1).replace(re,""):e}function Zt(e){return function(t){return e(t)}}function Yt(e,t){return Tt(t,function(t){return e[t]})}function Ht(e,t){return e.has(t)}function Xt(e,t){for(var n=-1,r=e.length;++n<r&&Nt(t,e[n],0)>-1;);return n}function en(e,t){for(var n=e.length;n--&&Nt(t,e[n],0)>-1;);return n}var tn=Vt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),nn=Vt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function rn(e){return"\\"+ut[e]}function on(e){return tt.test(e)}function an(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function un(e,t){return function(n){return e(t(n))}}function ln(e,t){for(var n=-1,o=e.length,i=0,a=[];++n<o;){var u=e[n];u!==t&&u!==r||(e[n]=r,a[i++]=n)}return a}function cn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function sn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function fn(e){return on(e)?function(e){for(var t=Xe.lastIndex=0;Xe.test(e);)++t;return t}(e):Lt(e)}function pn(e){return on(e)?function(e){return e.match(Xe)||[]}(e):function(e){return e.split("")}(e)}function hn(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var dn=Vt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),vn=function F(R){var W,oe=(R=null==R?pt:vn.defaults(pt.Object(),R,vn.pick(pt,rt))).Array,we=R.Date,Oe=R.Error,Ee=R.Function,je=R.Math,Se=R.Object,ke=R.RegExp,xe=R.String,Pe=R.TypeError,De=oe.prototype,Ie=Ee.prototype,Ce=Se.prototype,Te=R["__core-js_shared__"],Fe=Ie.toString,Ae=Ce.hasOwnProperty,Re=0,We=(W=/[^.]+$/.exec(Te&&Te.keys&&Te.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",Le=Ce.toString,Ue=Fe.call(Se),Je=pt._,Ne=ke("^"+Fe.call(Ae).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qe=vt?R.Buffer:e,ze=R.Symbol,Be=R.Uint8Array,Ge=qe?qe.allocUnsafe:e,Ve=un(Se.getPrototypeOf,Se),Ke=Se.create,$e=Ce.propertyIsEnumerable,Me=De.splice,Qe=ze?ze.isConcatSpreadable:e,Ze=ze?ze.iterator:e,Xe=ze?ze.toStringTag:e,tt=function(){try{var e=fi(Se,"defineProperty");return e({},"",{}),e}catch(e){}}(),ut=R.clearTimeout!==pt.clearTimeout&&R.clearTimeout,st=we&&we.now!==pt.Date.now&&we.now,ft=R.setTimeout!==pt.setTimeout&&R.setTimeout,ht=je.ceil,dt=je.floor,gt=Se.getOwnPropertySymbols,yt=qe?qe.isBuffer:e,Lt=R.isFinite,Vt=De.join,gn=un(Se.keys,Se),yn=je.max,mn=je.min,_n=we.now,bn=R.parseInt,wn=je.random,On=De.reverse,En=fi(R,"DataView"),jn=fi(R,"Map"),Sn=fi(R,"Promise"),kn=fi(R,"Set"),xn=fi(R,"WeakMap"),Pn=fi(Se,"create"),Dn=xn&&new xn,In={},Cn=Li(En),Tn=Li(jn),Fn=Li(Sn),An=Li(kn),Rn=Li(xn),Wn=ze?ze.prototype:e,Ln=Wn?Wn.valueOf:e,Un=Wn?Wn.toString:e;function Jn(e){if(eu(e)&&!Ba(e)&&!(e instanceof Bn)){if(e instanceof zn)return e;if(Ae.call(e,"__wrapped__"))return Ui(e)}return new zn(e)}var Nn=function(){function t(){}return function(n){if(!Xa(n))return{};if(Ke)return Ke(n);t.prototype=n;var r=new t;return t.prototype=e,r}}();function qn(){}function zn(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=e}function Bn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=s,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $n(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function Mn(e){var t=this.__data__=new Vn(e);this.size=t.size}function Qn(e,t){var n=Ba(e),r=!n&&za(e),o=!n&&!r&&$a(e),i=!n&&!r&&!o&&lu(e),a=n||r||o||i,u=a?Mt(e.length,xe):[],l=u.length;for(var c in e)!t&&!Ae.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||mi(c,l))||u.push(c);return u}function Zn(t){var n=t.length;return n?t[$r(0,n-1)]:e}function Yn(e,t){return Ai(Do(e),ar(t,0,e.length))}function Hn(e){return Ai(Do(e))}function Xn(t,n,r){(r!==e&&!Ja(t[n],r)||r===e&&!(n in t))&&or(t,n,r)}function er(t,n,r){var o=t[n];Ae.call(t,n)&&Ja(o,r)&&(r!==e||n in t)||or(t,n,r)}function tr(e,t){for(var n=e.length;n--;)if(Ja(e[n][0],t))return n;return-1}function nr(e,t,n,r){return fr(e,function(e,o,i){t(r,e,n(e),i)}),r}function rr(e,t){return e&&Io(t,Iu(t),e)}function or(e,t,n){"__proto__"==t&&tt?tt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ir(t,n){for(var r=-1,o=n.length,i=oe(o),a=null==t;++r<o;)i[r]=a?e:Su(t,n[r]);return i}function ar(t,n,r){return t==t&&(r!==e&&(t=t<=r?t:r),n!==e&&(t=t>=n?t:n)),t}function ur(t,n,r,o,i,a){var u,l=1&n,c=2&n,s=4&n;if(r&&(u=i?r(t,o,i,a):r(t)),u!==e)return u;if(!Xa(t))return t;var f=Ba(t);if(f){if(u=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ae.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!l)return Do(t,u)}else{var h=di(t),g=h==y||h==m;if($a(t))return Eo(t,l);if(h==w||h==p||g&&!i){if(u=c||g?{}:gi(t),!l)return c?function(e,t){return Io(e,hi(e),t)}(t,function(e,t){return e&&Io(t,Cu(t),e)}(u,t)):function(e,t){return Io(e,pi(e),t)}(t,rr(u,t))}else{if(!at[h])return i?t:{};u=function(e,t,n){var r,o=e.constructor;switch(t){case P:return jo(e);case d:case v:return new o(+e);case D:return function(e,t){var n=t?jo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case I:case C:case T:case A:case L:case U:case J:case N:case q:return So(e,n);case _:return new o;case b:case S:return new o(e);case E:return function(e){var t=new e.constructor(e.source,pe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case j:return new o;case k:return r=e,Ln?Se(Ln.call(r)):{}}}(t,h,l)}}a||(a=new Mn);var O=a.get(t);if(O)return O;a.set(t,u),iu(t)?t.forEach(function(e){u.add(ur(e,n,r,e,t,a))}):tu(t)&&t.forEach(function(e,o){u.set(o,ur(e,n,r,o,t,a))});var x=f?e:(s?c?oi:ri:c?Cu:Iu)(t);return kt(x||t,function(e,o){x&&(e=t[o=e]),er(u,o,ur(e,n,r,o,t,a))}),u}function lr(t,n,r){var o=r.length;if(null==t)return!o;for(t=Se(t);o--;){var i=r[o],a=n[i],u=t[i];if(u===e&&!(i in t)||!a(u))return!1}return!0}function cr(n,r,o){if("function"!=typeof n)throw new Pe(t);return Ii(function(){n.apply(e,o)},r)}function sr(e,t,n,r){var o=-1,i=It,a=!0,u=e.length,l=[],c=t.length;if(!u)return l;n&&(t=Tt(t,Zt(n))),r?(i=Ct,a=!1):t.length>=200&&(i=Ht,a=!1,t=new $n(t));e:for(;++o<u;){var s=e[o],f=null==n?s:n(s);if(s=r||0!==s?s:0,a&&f==f){for(var p=c;p--;)if(t[p]===f)continue e;l.push(s)}else i(t,f,r)||l.push(s)}return l}Jn.templateSettings={escape:Q,evaluate:Z,interpolate:Y,variable:"",imports:{_:Jn}},Jn.prototype=qn.prototype,Jn.prototype.constructor=Jn,zn.prototype=Nn(qn.prototype),zn.prototype.constructor=zn,Bn.prototype=Nn(qn.prototype),Bn.prototype.constructor=Bn,Gn.prototype.clear=function(){this.__data__=Pn?Pn(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(t){var r=this.__data__;if(Pn){var o=r[t];return o===n?e:o}return Ae.call(r,t)?r[t]:e},Gn.prototype.has=function(t){var n=this.__data__;return Pn?n[t]!==e:Ae.call(n,t)},Gn.prototype.set=function(t,r){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=Pn&&r===e?n:r,this},Vn.prototype.clear=function(){this.__data__=[],this.size=0},Vn.prototype.delete=function(e){var t=this.__data__,n=tr(t,e);return!(n<0||(n==t.length-1?t.pop():Me.call(t,n,1),--this.size,0))},Vn.prototype.get=function(t){var n=this.__data__,r=tr(n,t);return r<0?e:n[r][1]},Vn.prototype.has=function(e){return tr(this.__data__,e)>-1},Vn.prototype.set=function(e,t){var n=this.__data__,r=tr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(jn||Vn),string:new Gn}},Kn.prototype.delete=function(e){var t=ci(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return ci(this,e).get(e)},Kn.prototype.has=function(e){return ci(this,e).has(e)},Kn.prototype.set=function(e,t){var n=ci(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},$n.prototype.add=$n.prototype.push=function(e){return this.__data__.set(e,n),this},$n.prototype.has=function(e){return this.__data__.has(e)},Mn.prototype.clear=function(){this.__data__=new Vn,this.size=0},Mn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Mn.prototype.get=function(e){return this.__data__.get(e)},Mn.prototype.has=function(e){return this.__data__.has(e)},Mn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Vn){var r=n.__data__;if(!jn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(e,t),this.size=n.size,this};var fr=Fo(_r),pr=Fo(br,!0);function hr(e,t){var n=!0;return fr(e,function(e,r,o){return n=!!t(e,r,o)}),n}function dr(t,n,r){for(var o=-1,i=t.length;++o<i;){var a=t[o],u=n(a);if(null!=u&&(l===e?u==u&&!uu(u):r(u,l)))var l=u,c=a}return c}function vr(e,t){var n=[];return fr(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function gr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=yi),o||(o=[]);++i<a;){var u=e[i];t>0&&n(u)?t>1?gr(u,t-1,n,r,o):Ft(o,u):r||(o[o.length]=u)}return o}var yr=Ao(),mr=Ao(!0);function _r(e,t){return e&&yr(e,t,Iu)}function br(e,t){return e&&mr(e,t,Iu)}function wr(e,t){return Dt(t,function(t){return Za(e[t])})}function Or(t,n){for(var r=0,o=(n=_o(n,t)).length;null!=t&&r<o;)t=t[Wi(n[r++])];return r&&r==o?t:e}function Er(e,t,n){var r=t(e);return Ba(e)?r:Ft(r,n(e))}function jr(t){return null==t?t===e?"[object Undefined]":"[object Null]":Xe&&Xe in Se(t)?function(t){var n=Ae.call(t,Xe),r=t[Xe];try{t[Xe]=e;var o=!0}catch(e){}var i=Le.call(t);return o&&(n?t[Xe]=r:delete t[Xe]),i}(t):function(e){return Le.call(e)}(t)}function Sr(e,t){return e>t}function kr(e,t){return null!=e&&Ae.call(e,t)}function xr(e,t){return null!=e&&t in Se(e)}function Pr(t,n,r){for(var o=r?Ct:It,i=t[0].length,a=t.length,u=a,l=oe(a),c=1/0,s=[];u--;){var f=t[u];u&&n&&(f=Tt(f,Zt(n))),c=mn(f.length,c),l[u]=!r&&(n||i>=120&&f.length>=120)?new $n(u&&f):e}f=t[0];var p=-1,h=l[0];e:for(;++p<i&&s.length<c;){var d=f[p],v=n?n(d):d;if(d=r||0!==d?d:0,!(h?Ht(h,v):o(s,v,r))){for(u=a;--u;){var g=l[u];if(!(g?Ht(g,v):o(t[u],v,r)))continue e}h&&h.push(v),s.push(d)}}return s}function Dr(t,n,r){var o=null==(t=xi(t,n=_o(n,t)))?t:t[Wi(Qi(n))];return null==o?e:jt(o,t,r)}function Ir(e){return eu(e)&&jr(e)==p}function Cr(t,n,r,o,i){return t===n||(null==t||null==n||!eu(t)&&!eu(n)?t!=t&&n!=n:function(t,n,r,o,i,a){var u=Ba(t),l=Ba(n),c=u?h:di(t),s=l?h:di(n),f=(c=c==p?w:c)==w,y=(s=s==p?w:s)==w,m=c==s;if(m&&$a(t)){if(!$a(n))return!1;u=!0,f=!1}if(m&&!f)return a||(a=new Mn),u||lu(t)?ti(t,n,r,o,i,a):function(e,t,n,r,o,i,a){switch(n){case D:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case P:return!(e.byteLength!=t.byteLength||!i(new Be(e),new Be(t)));case d:case v:case b:return Ja(+e,+t);case g:return e.name==t.name&&e.message==t.message;case E:case S:return e==t+"";case _:var u=an;case j:var l=1&r;if(u||(u=cn),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var s=ti(u(e),u(t),r,o,i,a);return a.delete(e),s;case k:if(Ln)return Ln.call(e)==Ln.call(t)}return!1}(t,n,c,r,o,i,a);if(!(1&r)){var O=f&&Ae.call(t,"__wrapped__"),x=y&&Ae.call(n,"__wrapped__");if(O||x){var I=O?t.value():t,C=x?n.value():n;return a||(a=new Mn),i(I,C,r,o,a)}}return!!m&&(a||(a=new Mn),function(t,n,r,o,i,a){var u=1&r,l=ri(t),c=l.length,s=ri(n),f=s.length;if(c!=f&&!u)return!1;for(var p=c;p--;){var h=l[p];if(!(u?h in n:Ae.call(n,h)))return!1}var d=a.get(t),v=a.get(n);if(d&&v)return d==n&&v==t;var g=!0;a.set(t,n),a.set(n,t);for(var y=u;++p<c;){var m=t[h=l[p]],_=n[h];if(o)var b=u?o(_,m,h,n,t,a):o(m,_,h,t,n,a);if(!(b===e?m===_||i(m,_,r,o,a):b)){g=!1;break}y||(y="constructor"==h)}if(g&&!y){var w=t.constructor,O=n.constructor;w==O||!("constructor"in t)||!("constructor"in n)||"function"==typeof w&&w instanceof w&&"function"==typeof O&&O instanceof O||(g=!1)}return a.delete(t),a.delete(n),g}(t,n,r,o,i,a))}(t,n,r,o,Cr,i))}function Tr(t,n,r,o){var i=r.length,a=i,u=!o;if(null==t)return!a;for(t=Se(t);i--;){var l=r[i];if(u&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<a;){var c=(l=r[i])[0],s=t[c],f=l[1];if(u&&l[2]){if(s===e&&!(c in t))return!1}else{var p=new Mn;if(o)var h=o(s,f,c,t,n,p);if(!(h===e?Cr(f,s,3,o,p):h))return!1}}return!0}function Fr(e){return!(!Xa(e)||(t=e,We&&We in t))&&(Za(e)?Ne:ve).test(Li(e));var t}function Ar(e){return"function"==typeof e?e:null==e?nl:"object"==typeof e?Ba(e)?Nr(e[0],e[1]):Jr(e):fl(e)}function Rr(e){if(!Ei(e))return gn(e);var t=[];for(var n in Se(e))Ae.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Wr(e){if(!Xa(e))return function(e){var t=[];if(null!=e)for(var n in Se(e))t.push(n);return t}(e);var t=Ei(e),n=[];for(var r in e)("constructor"!=r||!t&&Ae.call(e,r))&&n.push(r);return n}function Lr(e,t){return e<t}function Ur(e,t){var n=-1,r=Va(e)?oe(e.length):[];return fr(e,function(e,o,i){r[++n]=t(e,o,i)}),r}function Jr(e){var t=si(e);return 1==t.length&&t[0][2]?Si(t[0][0],t[0][1]):function(n){return n===e||Tr(n,e,t)}}function Nr(t,n){return bi(t)&&ji(n)?Si(Wi(t),n):function(r){var o=Su(r,t);return o===e&&o===n?ku(r,t):Cr(n,o,3)}}function qr(t,n,r,o,i){t!==n&&yr(n,function(a,u){if(i||(i=new Mn),Xa(a))!function(t,n,r,o,i,a,u){var l=Pi(t,r),c=Pi(n,r),s=u.get(c);if(s)Xn(t,r,s);else{var f=a?a(l,c,r+"",t,n,u):e,p=f===e;if(p){var h=Ba(c),d=!h&&$a(c),v=!h&&!d&&lu(c);f=c,h||d||v?Ba(l)?f=l:Ka(l)?f=Do(l):d?(p=!1,f=Eo(c,!0)):v?(p=!1,f=So(c,!0)):f=[]:ru(c)||za(c)?(f=l,za(l)?f=gu(l):Xa(l)&&!Za(l)||(f=gi(c))):p=!1}p&&(u.set(c,f),i(f,c,o,a,u),u.delete(c)),Xn(t,r,f)}}(t,n,u,r,qr,o,i);else{var l=o?o(Pi(t,u),a,u+"",t,n,i):e;l===e&&(l=a),Xn(t,u,l)}},Cu)}function zr(t,n){var r=t.length;if(r)return mi(n+=n<0?r:0,r)?t[n]:e}function Br(e,t,n){t=t.length?Tt(t,function(e){return Ba(e)?function(t){return Or(t,1===e.length?e[0]:e)}:e}):[nl];var r=-1;t=Tt(t,Zt(li()));var o=Ur(e,function(e,n,o){var i=Tt(t,function(t){return t(e)});return{criteria:i,index:++r,value:e}});return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,u=n.length;++r<a;){var l=ko(o[r],i[r]);if(l)return r>=u?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)})}function Gr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],u=Or(e,a);n(u,a)&&Hr(i,_o(a,e),u)}return i}function Vr(e,t,n,r){var o=r?qt:Nt,i=-1,a=t.length,u=e;for(e===t&&(t=Do(t)),n&&(u=Tt(e,Zt(n)));++i<a;)for(var l=0,c=t[i],s=n?n(c):c;(l=o(u,s,l,r))>-1;)u!==e&&Me.call(u,l,1),Me.call(e,l,1);return e}function Kr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;mi(o)?Me.call(e,o,1):so(e,o)}}return e}function $r(e,t){return e+dt(wn()*(t-e+1))}function Mr(e,t){var n="";if(!e||t<1||t>l)return n;do{t%2&&(n+=e),(t=dt(t/2))&&(e+=e)}while(t);return n}function Qr(e,t){return Ci(ki(e,t,nl),e+"")}function Zr(e){return Zn(Ju(e))}function Yr(e,t){var n=Ju(e);return Ai(n,ar(t,0,n.length))}function Hr(t,n,r,o){if(!Xa(t))return t;for(var i=-1,a=(n=_o(n,t)).length,u=a-1,l=t;null!=l&&++i<a;){var c=Wi(n[i]),s=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(i!=u){var f=l[c];(s=o?o(f,c,l):e)===e&&(s=Xa(f)?f:mi(n[i+1])?[]:{})}er(l,c,s),l=l[c]}return t}var Xr=Dn?function(e,t){return Dn.set(e,t),e}:nl,eo=tt?function(e,t){return tt(e,"toString",{configurable:!0,enumerable:!1,value:Xu(t),writable:!0})}:nl;function to(e){return Ai(Ju(e))}function no(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=oe(o);++r<o;)i[r]=e[r+t];return i}function ro(e,t){var n;return fr(e,function(e,r,o){return!(n=t(e,r,o))}),!!n}function oo(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!uu(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return io(e,t,nl,n)}function io(t,n,r,o){var i=0,a=null==t?0:t.length;if(0===a)return 0;for(var u=(n=r(n))!=n,l=null===n,c=uu(n),s=n===e;i<a;){var f=dt((i+a)/2),p=r(t[f]),h=p!==e,d=null===p,v=p==p,g=uu(p);if(u)var y=o||v;else y=s?v&&(o||h):l?v&&h&&(o||!d):c?v&&h&&!d&&(o||!g):!d&&!g&&(o?p<=n:p<n);y?i=f+1:a=f}return mn(a,4294967294)}function ao(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],u=t?t(a):a;if(!n||!Ja(u,l)){var l=u;i[o++]=0===a?0:a}}return i}function uo(e){return"number"==typeof e?e:uu(e)?c:+e}function lo(e){if("string"==typeof e)return e;if(Ba(e))return Tt(e,lo)+"";if(uu(e))return Un?Un.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function co(e,t,n){var r=-1,o=It,i=e.length,a=!0,u=[],l=u;if(n)a=!1,o=Ct;else if(i>=200){var c=t?null:Qo(e);if(c)return cn(c);a=!1,o=Ht,l=new $n}else l=t?[]:u;e:for(;++r<i;){var s=e[r],f=t?t(s):s;if(s=n||0!==s?s:0,a&&f==f){for(var p=l.length;p--;)if(l[p]===f)continue e;t&&l.push(f),u.push(s)}else o(l,f,n)||(l!==u&&l.push(f),u.push(s))}return u}function so(e,t){return null==(e=xi(e,t=_o(t,e)))||delete e[Wi(Qi(t))]}function fo(e,t,n,r){return Hr(e,t,n(Or(e,t)),r)}function po(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?no(e,r?0:i,r?i+1:o):no(e,r?i+1:0,r?o:i)}function ho(e,t){var n=e;return n instanceof Bn&&(n=n.value()),At(t,function(e,t){return t.func.apply(t.thisArg,Ft([e],t.args))},n)}function vo(e,t,n){var r=e.length;if(r<2)return r?co(e[0]):[];for(var o=-1,i=oe(r);++o<r;)for(var a=e[o],u=-1;++u<r;)u!=o&&(i[o]=sr(i[o]||a,e[u],t,n));return co(gr(i,1),t,n)}function go(t,n,r){for(var o=-1,i=t.length,a=n.length,u={};++o<i;){var l=o<a?n[o]:e;r(u,t[o],l)}return u}function yo(e){return Ka(e)?e:[]}function mo(e){return"function"==typeof e?e:nl}function _o(e,t){return Ba(e)?e:bi(e,t)?[e]:Ri(yu(e))}var bo=Qr;function wo(t,n,r){var o=t.length;return r=r===e?o:r,!n&&r>=o?t:no(t,n,r)}var Oo=ut||function(e){return pt.clearTimeout(e)};function Eo(e,t){if(t)return e.slice();var n=e.length,r=Ge?Ge(n):new e.constructor(n);return e.copy(r),r}function jo(e){var t=new e.constructor(e.byteLength);return new Be(t).set(new Be(e)),t}function So(e,t){var n=t?jo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ko(t,n){if(t!==n){var r=t!==e,o=null===t,i=t==t,a=uu(t),u=n!==e,l=null===n,c=n==n,s=uu(n);if(!l&&!s&&!a&&t>n||a&&u&&c&&!l&&!s||o&&u&&c||!r&&c||!i)return 1;if(!o&&!a&&!s&&t<n||s&&r&&i&&!o&&!a||l&&r&&i||!u&&i||!c)return-1}return 0}function xo(e,t,n,r){for(var o=-1,i=e.length,a=n.length,u=-1,l=t.length,c=yn(i-a,0),s=oe(l+c),f=!r;++u<l;)s[u]=t[u];for(;++o<a;)(f||o<i)&&(s[n[o]]=e[o]);for(;c--;)s[u++]=e[o++];return s}function Po(e,t,n,r){for(var o=-1,i=e.length,a=-1,u=n.length,l=-1,c=t.length,s=yn(i-u,0),f=oe(s+c),p=!r;++o<s;)f[o]=e[o];for(var h=o;++l<c;)f[h+l]=t[l];for(;++a<u;)(p||o<i)&&(f[h+n[a]]=e[o++]);return f}function Do(e,t){var n=-1,r=e.length;for(t||(t=oe(r));++n<r;)t[n]=e[n];return t}function Io(t,n,r,o){var i=!r;r||(r={});for(var a=-1,u=n.length;++a<u;){var l=n[a],c=o?o(r[l],t[l],l,r,t):e;c===e&&(c=t[l]),i?or(r,l,c):er(r,l,c)}return r}function Co(e,t){return function(n,r){var o=Ba(n)?St:nr,i=t?t():{};return o(n,e,li(r,2),i)}}function To(t){return Qr(function(n,r){var o=-1,i=r.length,a=i>1?r[i-1]:e,u=i>2?r[2]:e;for(a=t.length>3&&"function"==typeof a?(i--,a):e,u&&_i(r[0],r[1],u)&&(a=i<3?e:a,i=1),n=Se(n);++o<i;){var l=r[o];l&&t(n,l,o,a)}return n})}function Fo(e,t){return function(n,r){if(null==n)return n;if(!Va(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Se(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Ao(e){return function(t,n,r){for(var o=-1,i=Se(t),a=r(t),u=a.length;u--;){var l=a[e?u:++o];if(!1===n(i[l],l,i))break}return t}}function Ro(t){return function(n){var r=on(n=yu(n))?pn(n):e,o=r?r[0]:n.charAt(0),i=r?wo(r,1).join(""):n.slice(1);return o[t]()+i}}function Wo(e){return function(t){return At(Zu(zu(t).replace(Ye,"")),e,"")}}function Lo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Nn(e.prototype),r=e.apply(n,t);return Xa(r)?r:n}}function Uo(t){return function(n,r,o){var i=Se(n);if(!Va(n)){var a=li(r,3);n=Iu(n),r=function(e){return a(i[e],e,i)}}var u=t(n,r,o);return u>-1?i[a?n[u]:u]:e}}function Jo(n){return ni(function(r){var o=r.length,i=o,a=zn.prototype.thru;for(n&&r.reverse();i--;){var u=r[i];if("function"!=typeof u)throw new Pe(t);if(a&&!l&&"wrapper"==ai(u))var l=new zn([],!0)}for(i=l?i:o;++i<o;){var c=ai(u=r[i]),s="wrapper"==c?ii(u):e;l=s&&wi(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?l[ai(s[0])].apply(l,s[3]):1==u.length&&wi(u)?l[c]():l.thru(u)}return function(){var e=arguments,t=e[0];if(l&&1==e.length&&Ba(t))return l.plant(t).value();for(var n=0,i=o?r[n].apply(this,e):t;++n<o;)i=r[n].call(this,i);return i}})}function No(t,n,r,o,a,u,l,c,s,f){var p=n&i,h=1&n,d=2&n,v=24&n,g=512&n,y=d?e:Lo(t);return function i(){for(var m=arguments.length,_=oe(m),b=m;b--;)_[b]=arguments[b];if(v)var w=ui(i),O=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(_,w);if(o&&(_=xo(_,o,a,v)),u&&(_=Po(_,u,l,v)),m-=O,v&&m<f){var E=ln(_,w);return $o(t,n,No,i.placeholder,r,_,E,c,s,f-m)}var j=h?r:this,S=d?j[t]:t;return m=_.length,c?_=function(t,n){for(var r=t.length,o=mn(n.length,r),i=Do(t);o--;){var a=n[o];t[o]=mi(a,r)?i[a]:e}return t}(_,c):g&&m>1&&_.reverse(),p&&s<m&&(_.length=s),this&&this!==pt&&this instanceof i&&(S=y||Lo(S)),S.apply(j,_)}}function qo(e,t){return function(n,r){return function(e,t,n,r){return _r(e,function(e,o,i){t(r,n(e),o,i)}),r}(n,e,t(r),{})}}function zo(t,n){return function(r,o){var i;if(r===e&&o===e)return n;if(r!==e&&(i=r),o!==e){if(i===e)return o;"string"==typeof r||"string"==typeof o?(r=lo(r),o=lo(o)):(r=uo(r),o=uo(o)),i=t(r,o)}return i}}function Bo(e){return ni(function(t){return t=Tt(t,Zt(li())),Qr(function(n){var r=this;return e(t,function(e){return jt(e,r,n)})})})}function Go(t,n){var r=(n=n===e?" ":lo(n)).length;if(r<2)return r?Mr(n,t):n;var o=Mr(n,ht(t/fn(n)));return on(n)?wo(pn(o),0,t).join(""):o.slice(0,t)}function Vo(t){return function(n,r,o){return o&&"number"!=typeof o&&_i(n,r,o)&&(r=o=e),n=pu(n),r===e?(r=n,n=0):r=pu(r),function(e,t,n,r){for(var o=-1,i=yn(ht((t-e)/(n||1)),0),a=oe(i);i--;)a[r?i:++o]=e,e+=n;return a}(n,r,o=o===e?n<r?1:-1:pu(o),t)}}function Ko(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=vu(t),n=vu(n)),e(t,n)}}function $o(t,n,r,i,a,u,l,c,s,f){var p=8&n;n|=p?o:64,4&(n&=~(p?64:o))||(n&=-4);var h=[t,n,a,p?u:e,p?l:e,p?e:u,p?e:l,c,s,f],d=r.apply(e,h);return wi(t)&&Di(d,h),d.placeholder=i,Ti(d,t,n)}function Mo(e){var t=je[e];return function(e,n){if(e=vu(e),(n=null==n?0:mn(hu(n),292))&&Lt(e)){var r=(yu(e)+"e").split("e");return+((r=(yu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Qo=kn&&1/cn(new kn([,-0]))[1]==u?function(e){return new kn(e)}:ul;function Zo(e){return function(t){var n=di(t);return n==_?an(t):n==j?sn(t):function(e,t){return Tt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Yo(n,u,l,c,s,f,p,h){var d=2&u;if(!d&&"function"!=typeof n)throw new Pe(t);var v=c?c.length:0;if(v||(u&=-97,c=s=e),p=p===e?p:yn(hu(p),0),h=h===e?h:hu(h),v-=s?s.length:0,64&u){var g=c,y=s;c=s=e}var m=d?e:ii(n),_=[n,u,l,c,s,g,y,f,p,h];if(m&&function(e,t){var n=e[1],o=t[1],u=n|o,l=u<131,c=o==i&&8==n||o==i&&n==a&&e[7].length<=t[8]||384==o&&t[7].length<=t[8]&&8==n;if(!l&&!c)return e;1&o&&(e[2]=t[2],u|=1&n?0:4);var s=t[3];if(s){var f=e[3];e[3]=f?xo(f,s,t[4]):s,e[4]=f?ln(e[3],r):t[4]}(s=t[5])&&(f=e[5],e[5]=f?Po(f,s,t[6]):s,e[6]=f?ln(e[5],r):t[6]),(s=t[7])&&(e[7]=s),o&i&&(e[8]=null==e[8]?t[8]:mn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=u}(_,m),n=_[0],u=_[1],l=_[2],c=_[3],s=_[4],!(h=_[9]=_[9]===e?d?0:n.length:yn(_[9]-v,0))&&24&u&&(u&=-25),u&&1!=u)b=8==u||16==u?function(t,n,r){var o=Lo(t);return function i(){for(var a=arguments.length,u=oe(a),l=a,c=ui(i);l--;)u[l]=arguments[l];var s=a<3&&u[0]!==c&&u[a-1]!==c?[]:ln(u,c);return(a-=s.length)<r?$o(t,n,No,i.placeholder,e,u,s,e,e,r-a):jt(this&&this!==pt&&this instanceof i?o:t,this,u)}}(n,u,h):u!=o&&33!=u||s.length?No.apply(e,_):function(e,t,n,r){var o=1&t,i=Lo(e);return function t(){for(var a=-1,u=arguments.length,l=-1,c=r.length,s=oe(c+u),f=this&&this!==pt&&this instanceof t?i:e;++l<c;)s[l]=r[l];for(;u--;)s[l++]=arguments[++a];return jt(f,o?n:this,s)}}(n,u,l,c);else var b=function(e,t,n){var r=1&t,o=Lo(e);return function t(){return(this&&this!==pt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(n,u,l);return Ti((m?Xr:Di)(b,_),n,u)}function Ho(t,n,r,o){return t===e||Ja(t,Ce[r])&&!Ae.call(o,r)?n:t}function Xo(t,n,r,o,i,a){return Xa(t)&&Xa(n)&&(a.set(n,t),qr(t,n,e,Xo,a),a.delete(n)),t}function ei(t){return ru(t)?e:t}function ti(t,n,r,o,i,a){var u=1&r,l=t.length,c=n.length;if(l!=c&&!(u&&c>l))return!1;var s=a.get(t),f=a.get(n);if(s&&f)return s==n&&f==t;var p=-1,h=!0,d=2&r?new $n:e;for(a.set(t,n),a.set(n,t);++p<l;){var v=t[p],g=n[p];if(o)var y=u?o(g,v,p,n,t,a):o(v,g,p,t,n,a);if(y!==e){if(y)continue;h=!1;break}if(d){if(!Wt(n,function(e,t){if(!Ht(d,t)&&(v===e||i(v,e,r,o,a)))return d.push(t)})){h=!1;break}}else if(v!==g&&!i(v,g,r,o,a)){h=!1;break}}return a.delete(t),a.delete(n),h}function ni(t){return Ci(ki(t,e,Gi),t+"")}function ri(e){return Er(e,Iu,pi)}function oi(e){return Er(e,Cu,hi)}var ii=Dn?function(e){return Dn.get(e)}:ul;function ai(e){for(var t=e.name+"",n=In[t],r=Ae.call(In,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ui(e){return(Ae.call(Jn,"placeholder")?Jn:e).placeholder}function li(){var e=Jn.iteratee||rl;return e=e===rl?Ar:e,arguments.length?e(arguments[0],arguments[1]):e}function ci(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function si(e){for(var t=Iu(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,ji(o)]}return t}function fi(t,n){var r=function(t,n){return null==t?e:t[n]}(t,n);return Fr(r)?r:e}var pi=gt?function(e){return null==e?[]:(e=Se(e),Dt(gt(e),function(t){return $e.call(e,t)}))}:dl,hi=gt?function(e){for(var t=[];e;)Ft(t,pi(e)),e=Ve(e);return t}:dl,di=jr;function vi(e,t,n){for(var r=-1,o=(t=_o(t,e)).length,i=!1;++r<o;){var a=Wi(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Ha(o)&&mi(a,o)&&(Ba(e)||za(e))}function gi(e){return"function"!=typeof e.constructor||Ei(e)?{}:Nn(Ve(e))}function yi(e){return Ba(e)||za(e)||!!(Qe&&e&&e[Qe])}function mi(e,t){var n=typeof e;return!!(t=null==t?l:t)&&("number"==n||"symbol"!=n&&ye.test(e))&&e>-1&&e%1==0&&e<t}function _i(e,t,n){if(!Xa(n))return!1;var r=typeof t;return!!("number"==r?Va(n)&&mi(t,n.length):"string"==r&&t in n)&&Ja(n[t],e)}function bi(e,t){if(Ba(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!uu(e))||X.test(e)||!H.test(e)||null!=t&&e in Se(t)}function wi(e){var t=ai(e),n=Jn[t];if("function"!=typeof n||!(t in Bn.prototype))return!1;if(e===n)return!0;var r=ii(n);return!!r&&e===r[0]}(En&&di(new En(new ArrayBuffer(1)))!=D||jn&&di(new jn)!=_||Sn&&di(Sn.resolve())!=O||kn&&di(new kn)!=j||xn&&di(new xn)!=x)&&(di=function(t){var n=jr(t),r=n==w?t.constructor:e,o=r?Li(r):"";if(o)switch(o){case Cn:return D;case Tn:return _;case Fn:return O;case An:return j;case Rn:return x}return n});var Oi=Te?Za:vl;function Ei(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ce)}function ji(e){return e==e&&!Xa(e)}function Si(t,n){return function(r){return null!=r&&r[t]===n&&(n!==e||t in Se(r))}}function ki(t,n,r){return n=yn(n===e?t.length-1:n,0),function(){for(var e=arguments,o=-1,i=yn(e.length-n,0),a=oe(i);++o<i;)a[o]=e[n+o];o=-1;for(var u=oe(n+1);++o<n;)u[o]=e[o];return u[n]=r(a),jt(t,this,u)}}function xi(e,t){return t.length<2?e:Or(e,no(t,0,-1))}function Pi(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Di=Fi(Xr),Ii=ft||function(e,t){return pt.setTimeout(e,t)},Ci=Fi(eo);function Ti(e,t,n){var r=t+"";return Ci(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ie,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return kt(f,function(n){var r="_."+n[0];t&n[1]&&!It(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(ae);return t?t[1].split(ue):[]}(r),n)))}function Fi(t){var n=0,r=0;return function(){var o=_n(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(e,arguments)}}function Ai(t,n){var r=-1,o=t.length,i=o-1;for(n=n===e?o:n;++r<n;){var a=$r(r,i),u=t[a];t[a]=t[r],t[r]=u}return t.length=n,t}var Ri=function(e){var t=Fa(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,function(e,n,r,o){t.push(r?o.replace(se,"$1"):n||e)}),t});function Wi(e){if("string"==typeof e||uu(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Li(e){if(null!=e){try{return Fe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ui(e){if(e instanceof Bn)return e.clone();var t=new zn(e.__wrapped__,e.__chain__);return t.__actions__=Do(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ji=Qr(function(e,t){return Ka(e)?sr(e,gr(t,1,Ka,!0)):[]}),Ni=Qr(function(t,n){var r=Qi(n);return Ka(r)&&(r=e),Ka(t)?sr(t,gr(n,1,Ka,!0),li(r,2)):[]}),qi=Qr(function(t,n){var r=Qi(n);return Ka(r)&&(r=e),Ka(t)?sr(t,gr(n,1,Ka,!0),e,r):[]});function zi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:hu(n);return o<0&&(o=yn(r+o,0)),Jt(e,li(t,3),o)}function Bi(t,n,r){var o=null==t?0:t.length;if(!o)return-1;var i=o-1;return r!==e&&(i=hu(r),i=r<0?yn(o+i,0):mn(i,o-1)),Jt(t,li(n,3),i,!0)}function Gi(e){return null!=e&&e.length?gr(e,1):[]}function Vi(t){return t&&t.length?t[0]:e}var Ki=Qr(function(e){var t=Tt(e,yo);return t.length&&t[0]===e[0]?Pr(t):[]}),$i=Qr(function(t){var n=Qi(t),r=Tt(t,yo);return n===Qi(r)?n=e:r.pop(),r.length&&r[0]===t[0]?Pr(r,li(n,2)):[]}),Mi=Qr(function(t){var n=Qi(t),r=Tt(t,yo);return(n="function"==typeof n?n:e)&&r.pop(),r.length&&r[0]===t[0]?Pr(r,e,n):[]});function Qi(t){var n=null==t?0:t.length;return n?t[n-1]:e}var Zi=Qr(Yi);function Yi(e,t){return e&&e.length&&t&&t.length?Vr(e,t):e}var Hi=ni(function(e,t){var n=null==e?0:e.length,r=ir(e,t);return Kr(e,Tt(t,function(e){return mi(e,n)?+e:e}).sort(ko)),r});function Xi(e){return null==e?e:On.call(e)}var ea=Qr(function(e){return co(gr(e,1,Ka,!0))}),ta=Qr(function(t){var n=Qi(t);return Ka(n)&&(n=e),co(gr(t,1,Ka,!0),li(n,2))}),na=Qr(function(t){var n=Qi(t);return n="function"==typeof n?n:e,co(gr(t,1,Ka,!0),e,n)});function ra(e){if(!e||!e.length)return[];var t=0;return e=Dt(e,function(e){if(Ka(e))return t=yn(e.length,t),!0}),Mt(t,function(t){return Tt(e,Gt(t))})}function oa(t,n){if(!t||!t.length)return[];var r=ra(t);return null==n?r:Tt(r,function(t){return jt(n,e,t)})}var ia=Qr(function(e,t){return Ka(e)?sr(e,t):[]}),aa=Qr(function(e){return vo(Dt(e,Ka))}),ua=Qr(function(t){var n=Qi(t);return Ka(n)&&(n=e),vo(Dt(t,Ka),li(n,2))}),la=Qr(function(t){var n=Qi(t);return n="function"==typeof n?n:e,vo(Dt(t,Ka),e,n)}),ca=Qr(ra),sa=Qr(function(t){var n=t.length,r=n>1?t[n-1]:e;return r="function"==typeof r?(t.pop(),r):e,oa(t,r)});function fa(e){var t=Jn(e);return t.__chain__=!0,t}function pa(e,t){return t(e)}var ha=ni(function(t){var n=t.length,r=n?t[0]:0,o=this.__wrapped__,i=function(e){return ir(e,t)};return!(n>1||this.__actions__.length)&&o instanceof Bn&&mi(r)?((o=o.slice(r,+r+(n?1:0))).__actions__.push({func:pa,args:[i],thisArg:e}),new zn(o,this.__chain__).thru(function(t){return n&&!t.length&&t.push(e),t})):this.thru(i)}),da=Co(function(e,t,n){Ae.call(e,n)?++e[n]:or(e,n,1)}),va=Uo(zi),ga=Uo(Bi);function ya(e,t){return(Ba(e)?kt:fr)(e,li(t,3))}function ma(e,t){return(Ba(e)?xt:pr)(e,li(t,3))}var _a=Co(function(e,t,n){Ae.call(e,n)?e[n].push(t):or(e,n,[t])}),ba=Qr(function(e,t,n){var r=-1,o="function"==typeof t,i=Va(e)?oe(e.length):[];return fr(e,function(e){i[++r]=o?jt(t,e,n):Dr(e,t,n)}),i}),wa=Co(function(e,t,n){or(e,n,t)});function Oa(e,t){return(Ba(e)?Tt:Ur)(e,li(t,3))}var Ea=Co(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),ja=Qr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&_i(e,t[0],t[1])?t=[]:n>2&&_i(t[0],t[1],t[2])&&(t=[t[0]]),Br(e,gr(t,1),[])}),Sa=st||function(){return pt.Date.now()};function ka(t,n,r){return n=r?e:n,n=t&&null==n?t.length:n,Yo(t,i,e,e,e,e,n)}function xa(n,r){var o;if("function"!=typeof r)throw new Pe(t);return n=hu(n),function(){return--n>0&&(o=r.apply(this,arguments)),n<=1&&(r=e),o}}var Pa=Qr(function(e,t,n){var r=1;if(n.length){var i=ln(n,ui(Pa));r|=o}return Yo(e,r,t,n,i)}),Da=Qr(function(e,t,n){var r=3;if(n.length){var i=ln(n,ui(Da));r|=o}return Yo(t,r,e,n,i)});function Ia(n,r,o){var i,a,u,l,c,s,f=0,p=!1,h=!1,d=!0;if("function"!=typeof n)throw new Pe(t);function v(t){var r=i,o=a;return i=a=e,f=t,l=n.apply(o,r)}function g(t){var n=t-s;return s===e||n>=r||n<0||h&&t-f>=u}function y(){var e=Sa();if(g(e))return m(e);c=Ii(y,function(e){var t=r-(e-s);return h?mn(t,u-(e-f)):t}(e))}function m(t){return c=e,d&&i?v(t):(i=a=e,l)}function _(){var t=Sa(),n=g(t);if(i=arguments,a=this,s=t,n){if(c===e)return function(e){return f=e,c=Ii(y,r),p?v(e):l}(s);if(h)return Oo(c),c=Ii(y,r),v(s)}return c===e&&(c=Ii(y,r)),l}return r=vu(r)||0,Xa(o)&&(p=!!o.leading,u=(h="maxWait"in o)?yn(vu(o.maxWait)||0,r):u,d="trailing"in o?!!o.trailing:d),_.cancel=function(){c!==e&&Oo(c),f=0,i=s=a=c=e},_.flush=function(){return c===e?l:m(Sa())},_}var Ca=Qr(function(e,t){return cr(e,1,t)}),Ta=Qr(function(e,t,n){return cr(e,vu(t)||0,n)});function Fa(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new Pe(t);var r=function(){var t=arguments,o=n?n.apply(this,t):t[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,t);return r.cache=i.set(o,a)||i,a};return r.cache=new(Fa.Cache||Kn),r}function Aa(e){if("function"!=typeof e)throw new Pe(t);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Fa.Cache=Kn;var Ra=bo(function(e,t){var n=(t=1==t.length&&Ba(t[0])?Tt(t[0],Zt(li())):Tt(gr(t,1),Zt(li()))).length;return Qr(function(r){for(var o=-1,i=mn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return jt(e,this,r)})}),Wa=Qr(function(t,n){var r=ln(n,ui(Wa));return Yo(t,o,e,n,r)}),La=Qr(function(t,n){var r=ln(n,ui(La));return Yo(t,64,e,n,r)}),Ua=ni(function(t,n){return Yo(t,a,e,e,e,n)});function Ja(e,t){return e===t||e!=e&&t!=t}var Na=Ko(Sr),qa=Ko(function(e,t){return e>=t}),za=Ir(function(){return arguments}())?Ir:function(e){return eu(e)&&Ae.call(e,"callee")&&!$e.call(e,"callee")},Ba=oe.isArray,Ga=mt?Zt(mt):function(e){return eu(e)&&jr(e)==P};function Va(e){return null!=e&&Ha(e.length)&&!Za(e)}function Ka(e){return eu(e)&&Va(e)}var $a=yt||vl,Ma=_t?Zt(_t):function(e){return eu(e)&&jr(e)==v};function Qa(e){if(!eu(e))return!1;var t=jr(e);return t==g||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ru(e)}function Za(e){if(!Xa(e))return!1;var t=jr(e);return t==y||t==m||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ya(e){return"number"==typeof e&&e==hu(e)}function Ha(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=l}function Xa(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function eu(e){return null!=e&&"object"==typeof e}var tu=bt?Zt(bt):function(e){return eu(e)&&di(e)==_};function nu(e){return"number"==typeof e||eu(e)&&jr(e)==b}function ru(e){if(!eu(e)||jr(e)!=w)return!1;var t=Ve(e);if(null===t)return!0;var n=Ae.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Fe.call(n)==Ue}var ou=wt?Zt(wt):function(e){return eu(e)&&jr(e)==E},iu=Ot?Zt(Ot):function(e){return eu(e)&&di(e)==j};function au(e){return"string"==typeof e||!Ba(e)&&eu(e)&&jr(e)==S}function uu(e){return"symbol"==typeof e||eu(e)&&jr(e)==k}var lu=Et?Zt(Et):function(e){return eu(e)&&Ha(e.length)&&!!it[jr(e)]},cu=Ko(Lr),su=Ko(function(e,t){return e<=t});function fu(e){if(!e)return[];if(Va(e))return au(e)?pn(e):Do(e);if(Ze&&e[Ze])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ze]());var t=di(e);return(t==_?an:t==j?cn:Ju)(e)}function pu(e){return e?(e=vu(e))===u||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function hu(e){var t=pu(e),n=t%1;return t==t?n?t-n:t:0}function du(e){return e?ar(hu(e),0,s):0}function vu(e){if("number"==typeof e)return e;if(uu(e))return c;if(Xa(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Xa(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Qt(e);var n=de.test(e);return n||ge.test(e)?ct(e.slice(2),n?2:8):he.test(e)?c:+e}function gu(e){return Io(e,Cu(e))}function yu(e){return null==e?"":lo(e)}var mu=To(function(e,t){if(Ei(t)||Va(t))Io(t,Iu(t),e);else for(var n in t)Ae.call(t,n)&&er(e,n,t[n])}),_u=To(function(e,t){Io(t,Cu(t),e)}),bu=To(function(e,t,n,r){Io(t,Cu(t),e,r)}),wu=To(function(e,t,n,r){Io(t,Iu(t),e,r)}),Ou=ni(ir),Eu=Qr(function(t,n){t=Se(t);var r=-1,o=n.length,i=o>2?n[2]:e;for(i&&_i(n[0],n[1],i)&&(o=1);++r<o;)for(var a=n[r],u=Cu(a),l=-1,c=u.length;++l<c;){var s=u[l],f=t[s];(f===e||Ja(f,Ce[s])&&!Ae.call(t,s))&&(t[s]=a[s])}return t}),ju=Qr(function(t){return t.push(e,Xo),jt(Fu,e,t)});function Su(t,n,r){var o=null==t?e:Or(t,n);return o===e?r:o}function ku(e,t){return null!=e&&vi(e,t,xr)}var xu=qo(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),e[t]=n},Xu(nl)),Pu=qo(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),Ae.call(e,t)?e[t].push(n):e[t]=[n]},li),Du=Qr(Dr);function Iu(e){return Va(e)?Qn(e):Rr(e)}function Cu(e){return Va(e)?Qn(e,!0):Wr(e)}var Tu=To(function(e,t,n){qr(e,t,n)}),Fu=To(function(e,t,n,r){qr(e,t,n,r)}),Au=ni(function(e,t){var n={};if(null==e)return n;var r=!1;t=Tt(t,function(t){return t=_o(t,e),r||(r=t.length>1),t}),Io(e,oi(e),n),r&&(n=ur(n,7,ei));for(var o=t.length;o--;)so(n,t[o]);return n}),Ru=ni(function(e,t){return null==e?{}:function(e,t){return Gr(e,t,function(t,n){return ku(e,n)})}(e,t)});function Wu(e,t){if(null==e)return{};var n=Tt(oi(e),function(e){return[e]});return t=li(t),Gr(e,n,function(e,n){return t(e,n[0])})}var Lu=Zo(Iu),Uu=Zo(Cu);function Ju(e){return null==e?[]:Yt(e,Iu(e))}var Nu=Wo(function(e,t,n){return t=t.toLowerCase(),e+(n?qu(t):t)});function qu(e){return Qu(yu(e).toLowerCase())}function zu(e){return(e=yu(e))&&e.replace(me,tn).replace(He,"")}var Bu=Wo(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Gu=Wo(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Vu=Ro("toLowerCase"),Ku=Wo(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),$u=Wo(function(e,t,n){return e+(n?" ":"")+Qu(t)}),Mu=Wo(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Qu=Ro("toUpperCase");function Zu(t,n,r){return t=yu(t),(n=r?e:n)===e?function(e){return nt.test(e)}(t)?function(e){return e.match(et)||[]}(t):function(e){return e.match(le)||[]}(t):t.match(n)||[]}var Yu=Qr(function(t,n){try{return jt(t,e,n)}catch(e){return Qa(e)?e:new Oe(e)}}),Hu=ni(function(e,t){return kt(t,function(t){t=Wi(t),or(e,t,Pa(e[t],e))}),e});function Xu(e){return function(){return e}}var el=Jo(),tl=Jo(!0);function nl(e){return e}function rl(e){return Ar("function"==typeof e?e:ur(e,1))}var ol=Qr(function(e,t){return function(n){return Dr(n,e,t)}}),il=Qr(function(e,t){return function(n){return Dr(e,n,t)}});function al(e,t,n){var r=Iu(t),o=wr(t,r);null!=n||Xa(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=wr(t,Iu(t)));var i=!(Xa(n)&&"chain"in n&&!n.chain),a=Za(e);return kt(o,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Do(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Ft([this.value()],arguments))})}),e}function ul(){}var ll=Bo(Tt),cl=Bo(Pt),sl=Bo(Wt);function fl(e){return bi(e)?Gt(Wi(e)):function(e){return function(t){return Or(t,e)}}(e)}var pl=Vo(),hl=Vo(!0);function dl(){return[]}function vl(){return!1}var gl,yl=zo(function(e,t){return e+t},0),ml=Mo("ceil"),_l=zo(function(e,t){return e/t},1),bl=Mo("floor"),wl=zo(function(e,t){return e*t},1),Ol=Mo("round"),El=zo(function(e,t){return e-t},0);return Jn.after=function(e,n){if("function"!=typeof n)throw new Pe(t);return e=hu(e),function(){if(--e<1)return n.apply(this,arguments)}},Jn.ary=ka,Jn.assign=mu,Jn.assignIn=_u,Jn.assignInWith=bu,Jn.assignWith=wu,Jn.at=Ou,Jn.before=xa,Jn.bind=Pa,Jn.bindAll=Hu,Jn.bindKey=Da,Jn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ba(e)?e:[e]},Jn.chain=fa,Jn.chunk=function(t,n,r){n=(r?_i(t,n,r):n===e)?1:yn(hu(n),0);var o=null==t?0:t.length;if(!o||n<1)return[];for(var i=0,a=0,u=oe(ht(o/n));i<o;)u[a++]=no(t,i,i+=n);return u},Jn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Jn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=oe(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Ft(Ba(n)?Do(n):[n],gr(t,1))},Jn.cond=function(e){var n=null==e?0:e.length,r=li();return e=n?Tt(e,function(e){if("function"!=typeof e[1])throw new Pe(t);return[r(e[0]),e[1]]}):[],Qr(function(t){for(var r=-1;++r<n;){var o=e[r];if(jt(o[0],this,t))return jt(o[1],this,t)}})},Jn.conforms=function(e){return function(e){var t=Iu(e);return function(n){return lr(n,e,t)}}(ur(e,1))},Jn.constant=Xu,Jn.countBy=da,Jn.create=function(e,t){var n=Nn(e);return null==t?n:rr(n,t)},Jn.curry=function t(n,r,o){var i=Yo(n,8,e,e,e,e,e,r=o?e:r);return i.placeholder=t.placeholder,i},Jn.curryRight=function t(n,r,o){var i=Yo(n,16,e,e,e,e,e,r=o?e:r);return i.placeholder=t.placeholder,i},Jn.debounce=Ia,Jn.defaults=Eu,Jn.defaultsDeep=ju,Jn.defer=Ca,Jn.delay=Ta,Jn.difference=Ji,Jn.differenceBy=Ni,Jn.differenceWith=qi,Jn.drop=function(t,n,r){var o=null==t?0:t.length;return o?no(t,(n=r||n===e?1:hu(n))<0?0:n,o):[]},Jn.dropRight=function(t,n,r){var o=null==t?0:t.length;return o?no(t,0,(n=o-(n=r||n===e?1:hu(n)))<0?0:n):[]},Jn.dropRightWhile=function(e,t){return e&&e.length?po(e,li(t,3),!0,!0):[]},Jn.dropWhile=function(e,t){return e&&e.length?po(e,li(t,3),!0):[]},Jn.fill=function(t,n,r,o){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&_i(t,n,r)&&(r=0,o=i),function(t,n,r,o){var i=t.length;for((r=hu(r))<0&&(r=-r>i?0:i+r),(o=o===e||o>i?i:hu(o))<0&&(o+=i),o=r>o?0:du(o);r<o;)t[r++]=n;return t}(t,n,r,o)):[]},Jn.filter=function(e,t){return(Ba(e)?Dt:vr)(e,li(t,3))},Jn.flatMap=function(e,t){return gr(Oa(e,t),1)},Jn.flatMapDeep=function(e,t){return gr(Oa(e,t),u)},Jn.flatMapDepth=function(t,n,r){return r=r===e?1:hu(r),gr(Oa(t,n),r)},Jn.flatten=Gi,Jn.flattenDeep=function(e){return null!=e&&e.length?gr(e,u):[]},Jn.flattenDepth=function(t,n){return null!=t&&t.length?gr(t,n=n===e?1:hu(n)):[]},Jn.flip=function(e){return Yo(e,512)},Jn.flow=el,Jn.flowRight=tl,Jn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Jn.functions=function(e){return null==e?[]:wr(e,Iu(e))},Jn.functionsIn=function(e){return null==e?[]:wr(e,Cu(e))},Jn.groupBy=_a,Jn.initial=function(e){return null!=e&&e.length?no(e,0,-1):[]},Jn.intersection=Ki,Jn.intersectionBy=$i,Jn.intersectionWith=Mi,Jn.invert=xu,Jn.invertBy=Pu,Jn.invokeMap=ba,Jn.iteratee=rl,Jn.keyBy=wa,Jn.keys=Iu,Jn.keysIn=Cu,Jn.map=Oa,Jn.mapKeys=function(e,t){var n={};return t=li(t,3),_r(e,function(e,r,o){or(n,t(e,r,o),e)}),n},Jn.mapValues=function(e,t){var n={};return t=li(t,3),_r(e,function(e,r,o){or(n,r,t(e,r,o))}),n},Jn.matches=function(e){return Jr(ur(e,1))},Jn.matchesProperty=function(e,t){return Nr(e,ur(t,1))},Jn.memoize=Fa,Jn.merge=Tu,Jn.mergeWith=Fu,Jn.method=ol,Jn.methodOf=il,Jn.mixin=al,Jn.negate=Aa,Jn.nthArg=function(e){return e=hu(e),Qr(function(t){return zr(t,e)})},Jn.omit=Au,Jn.omitBy=function(e,t){return Wu(e,Aa(li(t)))},Jn.once=function(e){return xa(2,e)},Jn.orderBy=function(t,n,r,o){return null==t?[]:(Ba(n)||(n=null==n?[]:[n]),Ba(r=o?e:r)||(r=null==r?[]:[r]),Br(t,n,r))},Jn.over=ll,Jn.overArgs=Ra,Jn.overEvery=cl,Jn.overSome=sl,Jn.partial=Wa,Jn.partialRight=La,Jn.partition=Ea,Jn.pick=Ru,Jn.pickBy=Wu,Jn.property=fl,Jn.propertyOf=function(t){return function(n){return null==t?e:Or(t,n)}},Jn.pull=Zi,Jn.pullAll=Yi,Jn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Vr(e,t,li(n,2)):e},Jn.pullAllWith=function(t,n,r){return t&&t.length&&n&&n.length?Vr(t,n,e,r):t},Jn.pullAt=Hi,Jn.range=pl,Jn.rangeRight=hl,Jn.rearg=Ua,Jn.reject=function(e,t){return(Ba(e)?Dt:vr)(e,Aa(li(t,3)))},Jn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=li(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Kr(e,o),n},Jn.rest=function(n,r){if("function"!=typeof n)throw new Pe(t);return Qr(n,r=r===e?r:hu(r))},Jn.reverse=Xi,Jn.sampleSize=function(t,n,r){return n=(r?_i(t,n,r):n===e)?1:hu(n),(Ba(t)?Yn:Yr)(t,n)},Jn.set=function(e,t,n){return null==e?e:Hr(e,t,n)},Jn.setWith=function(t,n,r,o){return o="function"==typeof o?o:e,null==t?t:Hr(t,n,r,o)},Jn.shuffle=function(e){return(Ba(e)?Hn:to)(e)},Jn.slice=function(t,n,r){var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&_i(t,n,r)?(n=0,r=o):(n=null==n?0:hu(n),r=r===e?o:hu(r)),no(t,n,r)):[]},Jn.sortBy=ja,Jn.sortedUniq=function(e){return e&&e.length?ao(e):[]},Jn.sortedUniqBy=function(e,t){return e&&e.length?ao(e,li(t,2)):[]},Jn.split=function(t,n,r){return r&&"number"!=typeof r&&_i(t,n,r)&&(n=r=e),(r=r===e?s:r>>>0)?(t=yu(t))&&("string"==typeof n||null!=n&&!ou(n))&&!(n=lo(n))&&on(t)?wo(pn(t),0,r):t.split(n,r):[]},Jn.spread=function(e,n){if("function"!=typeof e)throw new Pe(t);return n=null==n?0:yn(hu(n),0),Qr(function(t){var r=t[n],o=wo(t,0,n);return r&&Ft(o,r),jt(e,this,o)})},Jn.tail=function(e){var t=null==e?0:e.length;return t?no(e,1,t):[]},Jn.take=function(t,n,r){return t&&t.length?no(t,0,(n=r||n===e?1:hu(n))<0?0:n):[]},Jn.takeRight=function(t,n,r){var o=null==t?0:t.length;return o?no(t,(n=o-(n=r||n===e?1:hu(n)))<0?0:n,o):[]},Jn.takeRightWhile=function(e,t){return e&&e.length?po(e,li(t,3),!1,!0):[]},Jn.takeWhile=function(e,t){return e&&e.length?po(e,li(t,3)):[]},Jn.tap=function(e,t){return t(e),e},Jn.throttle=function(e,n,r){var o=!0,i=!0;if("function"!=typeof e)throw new Pe(t);return Xa(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),Ia(e,n,{leading:o,maxWait:n,trailing:i})},Jn.thru=pa,Jn.toArray=fu,Jn.toPairs=Lu,Jn.toPairsIn=Uu,Jn.toPath=function(e){return Ba(e)?Tt(e,Wi):uu(e)?[e]:Do(Ri(yu(e)))},Jn.toPlainObject=gu,Jn.transform=function(e,t,n){var r=Ba(e),o=r||$a(e)||lu(e);if(t=li(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:Xa(e)&&Za(i)?Nn(Ve(e)):{}}return(o?kt:_r)(e,function(e,r,o){return t(n,e,r,o)}),n},Jn.unary=function(e){return ka(e,1)},Jn.union=ea,Jn.unionBy=ta,Jn.unionWith=na,Jn.uniq=function(e){return e&&e.length?co(e):[]},Jn.uniqBy=function(e,t){return e&&e.length?co(e,li(t,2)):[]},Jn.uniqWith=function(t,n){return n="function"==typeof n?n:e,t&&t.length?co(t,e,n):[]},Jn.unset=function(e,t){return null==e||so(e,t)},Jn.unzip=ra,Jn.unzipWith=oa,Jn.update=function(e,t,n){return null==e?e:fo(e,t,mo(n))},Jn.updateWith=function(t,n,r,o){return o="function"==typeof o?o:e,null==t?t:fo(t,n,mo(r),o)},Jn.values=Ju,Jn.valuesIn=function(e){return null==e?[]:Yt(e,Cu(e))},Jn.without=ia,Jn.words=Zu,Jn.wrap=function(e,t){return Wa(mo(t),e)},Jn.xor=aa,Jn.xorBy=ua,Jn.xorWith=la,Jn.zip=ca,Jn.zipObject=function(e,t){return go(e||[],t||[],er)},Jn.zipObjectDeep=function(e,t){return go(e||[],t||[],Hr)},Jn.zipWith=sa,Jn.entries=Lu,Jn.entriesIn=Uu,Jn.extend=_u,Jn.extendWith=bu,al(Jn,Jn),Jn.add=yl,Jn.attempt=Yu,Jn.camelCase=Nu,Jn.capitalize=qu,Jn.ceil=ml,Jn.clamp=function(t,n,r){return r===e&&(r=n,n=e),r!==e&&(r=(r=vu(r))==r?r:0),n!==e&&(n=(n=vu(n))==n?n:0),ar(vu(t),n,r)},Jn.clone=function(e){return ur(e,4)},Jn.cloneDeep=function(e){return ur(e,5)},Jn.cloneDeepWith=function(t,n){return ur(t,5,n="function"==typeof n?n:e)},Jn.cloneWith=function(t,n){return ur(t,4,n="function"==typeof n?n:e)},Jn.conformsTo=function(e,t){return null==t||lr(e,t,Iu(t))},Jn.deburr=zu,Jn.defaultTo=function(e,t){return null==e||e!=e?t:e},Jn.divide=_l,Jn.endsWith=function(t,n,r){t=yu(t),n=lo(n);var o=t.length,i=r=r===e?o:ar(hu(r),0,o);return(r-=n.length)>=0&&t.slice(r,i)==n},Jn.eq=Ja,Jn.escape=function(e){return(e=yu(e))&&M.test(e)?e.replace(K,nn):e},Jn.escapeRegExp=function(e){return(e=yu(e))&&ne.test(e)?e.replace(te,"\\$&"):e},Jn.every=function(t,n,r){var o=Ba(t)?Pt:hr;return r&&_i(t,n,r)&&(n=e),o(t,li(n,3))},Jn.find=va,Jn.findIndex=zi,Jn.findKey=function(e,t){return Ut(e,li(t,3),_r)},Jn.findLast=ga,Jn.findLastIndex=Bi,Jn.findLastKey=function(e,t){return Ut(e,li(t,3),br)},Jn.floor=bl,Jn.forEach=ya,Jn.forEachRight=ma,Jn.forIn=function(e,t){return null==e?e:yr(e,li(t,3),Cu)},Jn.forInRight=function(e,t){return null==e?e:mr(e,li(t,3),Cu)},Jn.forOwn=function(e,t){return e&&_r(e,li(t,3))},Jn.forOwnRight=function(e,t){return e&&br(e,li(t,3))},Jn.get=Su,Jn.gt=Na,Jn.gte=qa,Jn.has=function(e,t){return null!=e&&vi(e,t,kr)},Jn.hasIn=ku,Jn.head=Vi,Jn.identity=nl,Jn.includes=function(e,t,n,r){e=Va(e)?e:Ju(e),n=n&&!r?hu(n):0;var o=e.length;return n<0&&(n=yn(o+n,0)),au(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Nt(e,t,n)>-1},Jn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:hu(n);return o<0&&(o=yn(r+o,0)),Nt(e,t,o)},Jn.inRange=function(t,n,r){return n=pu(n),r===e?(r=n,n=0):r=pu(r),function(e,t,n){return e>=mn(t,n)&&e<yn(t,n)}(t=vu(t),n,r)},Jn.invoke=Du,Jn.isArguments=za,Jn.isArray=Ba,Jn.isArrayBuffer=Ga,Jn.isArrayLike=Va,Jn.isArrayLikeObject=Ka,Jn.isBoolean=function(e){return!0===e||!1===e||eu(e)&&jr(e)==d},Jn.isBuffer=$a,Jn.isDate=Ma,Jn.isElement=function(e){return eu(e)&&1===e.nodeType&&!ru(e)},Jn.isEmpty=function(e){if(null==e)return!0;if(Va(e)&&(Ba(e)||"string"==typeof e||"function"==typeof e.splice||$a(e)||lu(e)||za(e)))return!e.length;var t=di(e);if(t==_||t==j)return!e.size;if(Ei(e))return!Rr(e).length;for(var n in e)if(Ae.call(e,n))return!1;return!0},Jn.isEqual=function(e,t){return Cr(e,t)},Jn.isEqualWith=function(t,n,r){var o=(r="function"==typeof r?r:e)?r(t,n):e;return o===e?Cr(t,n,e,r):!!o},Jn.isError=Qa,Jn.isFinite=function(e){return"number"==typeof e&&Lt(e)},Jn.isFunction=Za,Jn.isInteger=Ya,Jn.isLength=Ha,Jn.isMap=tu,Jn.isMatch=function(e,t){return e===t||Tr(e,t,si(t))},Jn.isMatchWith=function(t,n,r){return r="function"==typeof r?r:e,Tr(t,n,si(n),r)},Jn.isNaN=function(e){return nu(e)&&e!=+e},Jn.isNative=function(e){if(Oi(e))throw new Oe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Fr(e)},Jn.isNil=function(e){return null==e},Jn.isNull=function(e){return null===e},Jn.isNumber=nu,Jn.isObject=Xa,Jn.isObjectLike=eu,Jn.isPlainObject=ru,Jn.isRegExp=ou,Jn.isSafeInteger=function(e){return Ya(e)&&e>=-9007199254740991&&e<=l},Jn.isSet=iu,Jn.isString=au,Jn.isSymbol=uu,Jn.isTypedArray=lu,Jn.isUndefined=function(t){return t===e},Jn.isWeakMap=function(e){return eu(e)&&di(e)==x},Jn.isWeakSet=function(e){return eu(e)&&"[object WeakSet]"==jr(e)},Jn.join=function(e,t){return null==e?"":Vt.call(e,t)},Jn.kebabCase=Bu,Jn.last=Qi,Jn.lastIndexOf=function(t,n,r){var o=null==t?0:t.length;if(!o)return-1;var i=o;return r!==e&&(i=(i=hu(r))<0?yn(o+i,0):mn(i,o-1)),n==n?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(t,n,i):Jt(t,zt,i,!0)},Jn.lowerCase=Gu,Jn.lowerFirst=Vu,Jn.lt=cu,Jn.lte=su,Jn.max=function(t){return t&&t.length?dr(t,nl,Sr):e},Jn.maxBy=function(t,n){return t&&t.length?dr(t,li(n,2),Sr):e},Jn.mean=function(e){return Bt(e,nl)},Jn.meanBy=function(e,t){return Bt(e,li(t,2))},Jn.min=function(t){return t&&t.length?dr(t,nl,Lr):e},Jn.minBy=function(t,n){return t&&t.length?dr(t,li(n,2),Lr):e},Jn.stubArray=dl,Jn.stubFalse=vl,Jn.stubObject=function(){return{}},Jn.stubString=function(){return""},Jn.stubTrue=function(){return!0},Jn.multiply=wl,Jn.nth=function(t,n){return t&&t.length?zr(t,hu(n)):e},Jn.noConflict=function(){return pt._===this&&(pt._=Je),this},Jn.noop=ul,Jn.now=Sa,Jn.pad=function(e,t,n){e=yu(e);var r=(t=hu(t))?fn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Go(dt(o),n)+e+Go(ht(o),n)},Jn.padEnd=function(e,t,n){e=yu(e);var r=(t=hu(t))?fn(e):0;return t&&r<t?e+Go(t-r,n):e},Jn.padStart=function(e,t,n){e=yu(e);var r=(t=hu(t))?fn(e):0;return t&&r<t?Go(t-r,n)+e:e},Jn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),bn(yu(e).replace(re,""),t||0)},Jn.random=function(t,n,r){if(r&&"boolean"!=typeof r&&_i(t,n,r)&&(n=r=e),r===e&&("boolean"==typeof n?(r=n,n=e):"boolean"==typeof t&&(r=t,t=e)),t===e&&n===e?(t=0,n=1):(t=pu(t),n===e?(n=t,t=0):n=pu(n)),t>n){var o=t;t=n,n=o}if(r||t%1||n%1){var i=wn();return mn(t+i*(n-t+lt("1e-"+((i+"").length-1))),n)}return $r(t,n)},Jn.reduce=function(e,t,n){var r=Ba(e)?At:Kt,o=arguments.length<3;return r(e,li(t,4),n,o,fr)},Jn.reduceRight=function(e,t,n){var r=Ba(e)?Rt:Kt,o=arguments.length<3;return r(e,li(t,4),n,o,pr)},Jn.repeat=function(t,n,r){return n=(r?_i(t,n,r):n===e)?1:hu(n),Mr(yu(t),n)},Jn.replace=function(){var e=arguments,t=yu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Jn.result=function(t,n,r){var o=-1,i=(n=_o(n,t)).length;for(i||(i=1,t=e);++o<i;){var a=null==t?e:t[Wi(n[o])];a===e&&(o=i,a=r),t=Za(a)?a.call(t):a}return t},Jn.round=Ol,Jn.runInContext=F,Jn.sample=function(e){return(Ba(e)?Zn:Zr)(e)},Jn.size=function(e){if(null==e)return 0;if(Va(e))return au(e)?fn(e):e.length;var t=di(e);return t==_||t==j?e.size:Rr(e).length},Jn.snakeCase=Ku,Jn.some=function(t,n,r){var o=Ba(t)?Wt:ro;return r&&_i(t,n,r)&&(n=e),o(t,li(n,3))},Jn.sortedIndex=function(e,t){return oo(e,t)},Jn.sortedIndexBy=function(e,t,n){return io(e,t,li(n,2))},Jn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oo(e,t);if(r<n&&Ja(e[r],t))return r}return-1},Jn.sortedLastIndex=function(e,t){return oo(e,t,!0)},Jn.sortedLastIndexBy=function(e,t,n){return io(e,t,li(n,2),!0)},Jn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=oo(e,t,!0)-1;if(Ja(e[n],t))return n}return-1},Jn.startCase=$u,Jn.startsWith=function(e,t,n){return e=yu(e),n=null==n?0:ar(hu(n),0,e.length),t=lo(t),e.slice(n,n+t.length)==t},Jn.subtract=El,Jn.sum=function(e){return e&&e.length?$t(e,nl):0},Jn.sumBy=function(e,t){return e&&e.length?$t(e,li(t,2)):0},Jn.template=function(t,n,r){var o=Jn.templateSettings;r&&_i(t,n,r)&&(n=e),t=yu(t),n=bu({},n,o,Ho);var i,a,u=bu({},n.imports,o.imports,Ho),l=Iu(u),c=Yt(u,l),s=0,f=n.interpolate||_e,p="__p += '",h=ke((n.escape||_e).source+"|"+f.source+"|"+(f===Y?fe:_e).source+"|"+(n.evaluate||_e).source+"|$","g"),d="//# sourceURL="+(Ae.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";t.replace(h,function(e,n,r,o,u,l){return r||(r=o),p+=t.slice(s,l).replace(be,rn),n&&(i=!0,p+="' +\n__e("+n+") +\n'"),u&&(a=!0,p+="';\n"+u+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=l+e.length,e}),p+="';\n";var v=Ae.call(n,"variable")&&n.variable;if(v){if(ce.test(v))throw new Oe("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(a?p.replace(z,""):p).replace(B,"$1").replace(G,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var g=Yu(function(){return Ee(l,d+"return "+p).apply(e,c)});if(g.source=p,Qa(g))throw g;return g},Jn.times=function(e,t){if((e=hu(e))<1||e>l)return[];var n=s,r=mn(e,s);t=li(t),e-=s;for(var o=Mt(r,t);++n<e;)t(n);return o},Jn.toFinite=pu,Jn.toInteger=hu,Jn.toLength=du,Jn.toLower=function(e){return yu(e).toLowerCase()},Jn.toNumber=vu,Jn.toSafeInteger=function(e){return e?ar(hu(e),-9007199254740991,l):0===e?e:0},Jn.toString=yu,Jn.toUpper=function(e){return yu(e).toUpperCase()},Jn.trim=function(t,n,r){if((t=yu(t))&&(r||n===e))return Qt(t);if(!t||!(n=lo(n)))return t;var o=pn(t),i=pn(n);return wo(o,Xt(o,i),en(o,i)+1).join("")},Jn.trimEnd=function(t,n,r){if((t=yu(t))&&(r||n===e))return t.slice(0,hn(t)+1);if(!t||!(n=lo(n)))return t;var o=pn(t);return wo(o,0,en(o,pn(n))+1).join("")},Jn.trimStart=function(t,n,r){if((t=yu(t))&&(r||n===e))return t.replace(re,"");if(!t||!(n=lo(n)))return t;var o=pn(t);return wo(o,Xt(o,pn(n))).join("")},Jn.truncate=function(t,n){var r=30,o="...";if(Xa(n)){var i="separator"in n?n.separator:i;r="length"in n?hu(n.length):r,o="omission"in n?lo(n.omission):o}var a=(t=yu(t)).length;if(on(t)){var u=pn(t);a=u.length}if(r>=a)return t;var l=r-fn(o);if(l<1)return o;var c=u?wo(u,0,l).join(""):t.slice(0,l);if(i===e)return c+o;if(u&&(l+=c.length-l),ou(i)){if(t.slice(l).search(i)){var s,f=c;for(i.global||(i=ke(i.source,yu(pe.exec(i))+"g")),i.lastIndex=0;s=i.exec(f);)var p=s.index;c=c.slice(0,p===e?l:p)}}else if(t.indexOf(lo(i),l)!=l){var h=c.lastIndexOf(i);h>-1&&(c=c.slice(0,h))}return c+o},Jn.unescape=function(e){return(e=yu(e))&&$.test(e)?e.replace(V,dn):e},Jn.uniqueId=function(e){var t=++Re;return yu(e)+t},Jn.upperCase=Mu,Jn.upperFirst=Qu,Jn.each=ya,Jn.eachRight=ma,Jn.first=Vi,al(Jn,(gl={},_r(Jn,function(e,t){Ae.call(Jn.prototype,t)||(gl[t]=e)}),gl),{chain:!1}),Jn.VERSION="4.17.21",kt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Jn[e].placeholder=Jn}),kt(["drop","take"],function(t,n){Bn.prototype[t]=function(r){r=r===e?1:yn(hu(r),0);var o=this.__filtered__&&!n?new Bn(this):this.clone();return o.__filtered__?o.__takeCount__=mn(r,o.__takeCount__):o.__views__.push({size:mn(r,s),type:t+(o.__dir__<0?"Right":"")}),o},Bn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),kt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;Bn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:li(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),kt(["head","last"],function(e,t){var n="take"+(t?"Right":"");Bn.prototype[e]=function(){return this[n](1).value()[0]}}),kt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Bn.prototype[e]=function(){return this.__filtered__?new Bn(this):this[n](1)}}),Bn.prototype.compact=function(){return this.filter(nl)},Bn.prototype.find=function(e){return this.filter(e).head()},Bn.prototype.findLast=function(e){return this.reverse().find(e)},Bn.prototype.invokeMap=Qr(function(e,t){return"function"==typeof e?new Bn(this):this.map(function(n){return Dr(n,e,t)})}),Bn.prototype.reject=function(e){return this.filter(Aa(li(e)))},Bn.prototype.slice=function(t,n){t=hu(t);var r=this;return r.__filtered__&&(t>0||n<0)?new Bn(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),n!==e&&(r=(n=hu(n))<0?r.dropRight(-n):r.take(n-t)),r)},Bn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Bn.prototype.toArray=function(){return this.take(s)},_r(Bn.prototype,function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),o=/^(?:head|last)$/.test(n),i=Jn[o?"take"+("last"==n?"Right":""):n],a=o||/^find/.test(n);i&&(Jn.prototype[n]=function(){var n=this.__wrapped__,u=o?[1]:arguments,l=n instanceof Bn,c=u[0],s=l||Ba(n),f=function(e){var t=i.apply(Jn,Ft([e],u));return o&&p?t[0]:t};s&&r&&"function"==typeof c&&1!=c.length&&(l=s=!1);var p=this.__chain__,h=!!this.__actions__.length,d=a&&!p,v=l&&!h;if(!a&&s){n=v?n:new Bn(this);var g=t.apply(n,u);return g.__actions__.push({func:pa,args:[f],thisArg:e}),new zn(g,p)}return d&&v?t.apply(this,u):(g=this.thru(f),d?o?g.value()[0]:g.value():g)})}),kt(["pop","push","shift","sort","splice","unshift"],function(e){var t=De[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Jn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Ba(o)?o:[],e)}return this[n](function(n){return t.apply(Ba(n)?n:[],e)})}}),_r(Bn.prototype,function(e,t){var n=Jn[t];if(n){var r=n.name+"";Ae.call(In,r)||(In[r]=[]),In[r].push({name:t,func:n})}}),In[No(e,2).name]=[{name:"wrapper",func:e}],Bn.prototype.clone=function(){var e=new Bn(this.__wrapped__);return e.__actions__=Do(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Do(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Do(this.__views__),e},Bn.prototype.reverse=function(){if(this.__filtered__){var e=new Bn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Bn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ba(e),r=t<0,o=n?e.length:0,i=function(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=mn(t,e+a);break;case"takeRight":e=yn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,u=i.end,l=u-a,c=r?u:a-1,s=this.__iteratees__,f=s.length,p=0,h=mn(l,this.__takeCount__);if(!n||!r&&o==l&&h==l)return ho(e,this.__actions__);var d=[];e:for(;l--&&p<h;){for(var v=-1,g=e[c+=t];++v<f;){var y=s[v],m=y.iteratee,_=y.type,b=m(g);if(2==_)g=b;else if(!b){if(1==_)continue e;break e}}d[p++]=g}return d},Jn.prototype.at=ha,Jn.prototype.chain=function(){return fa(this)},Jn.prototype.commit=function(){return new zn(this.value(),this.__chain__)},Jn.prototype.next=function(){this.__values__===e&&(this.__values__=fu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?e:this.__values__[this.__index__++]}},Jn.prototype.plant=function(t){for(var n,r=this;r instanceof qn;){var o=Ui(r);o.__index__=0,o.__values__=e,n?i.__wrapped__=o:n=o;var i=o;r=r.__wrapped__}return i.__wrapped__=t,n},Jn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Bn){var n=t;return this.__actions__.length&&(n=new Bn(this)),(n=n.reverse()).__actions__.push({func:pa,args:[Xi],thisArg:e}),new zn(n,this.__chain__)}return this.thru(Xi)},Jn.prototype.toJSON=Jn.prototype.valueOf=Jn.prototype.value=function(){return ho(this.__wrapped__,this.__actions__)},Jn.prototype.first=Jn.prototype.head,Ze&&(Jn.prototype[Ze]=function(){return this}),Jn}();dt?((dt.exports=vn)._=vn,ht._=vn):pt._=vn}.call(A.exports)),A.exports);const U="Configuration drop zone",J="Configuration text area",N="Paste JWT button",q="Upload JWT button",z="JWT form",B="JWT button",G="GCE button",V="Private Key Path Input",K="Private Key Input",$="Fill JWT info manually",M="Show private key path input",Q="Show private key input",Z=["private_key","token_uri","client_email","project_id"],Y=({onChange:e,showConfigEditor:t,showPaste:n,showUpload:r,isPasting:o,isUploading:i})=>{const[a,u]=(0,v.useState)(),l=(0,d.useTheme2)(),c=(0,v.useCallback)(e=>{u(null),n()},[n]),s=(0,v.useCallback)(e=>{r(),u(null)},[r]),f=(0,v.useCallback)(n=>{if(""!==n.trim()){let r;try{r=JSON.parse(n)}catch(e){u("Invalid JWT token")}const o=H(r);o.isValid?(t(),e({privateKey:r.private_key,tokenUri:r.token_uri,clientEmail:r.client_email,projectId:r.project_id})):u(o.error)}},[u,e,t]);return v.createElement(v.Fragment,null,v.createElement(d.Field,{label:"JWT token",invalid:Boolean(a),description:o?"Paste JWT token below":"Upload or paste Google JWT token",error:a},v.createElement(v.Fragment,null,i&&v.createElement("div",{"data-testid":U},d.FileDropzone&&v.createElement(d.FileDropzone,{options:{multiple:!1,accept:".json"},readAs:"readAsText",onLoad:e=>{f(e)}},v.createElement("p",{style:{margin:0,fontSize:`${l.typography.h4.fontSize}`,textAlign:"center"}},"Drop the Google JWT file here",v.createElement("br",null),v.createElement("br",null),v.createElement(d.Button,{fill:"outline"},"Click to browse files")))),o&&v.createElement(d.TextArea,{"data-testid":J,autoFocus:!0,invalid:Boolean(a),placeholder:"Paste Google JWT token here",onBlur:e=>f(e.currentTarget.value),rows:12}))),!o&&v.createElement(v.Fragment,null,v.createElement(d.Button,{"data-testid":N,type:"button",fill:"outline",style:{color:`${l.colors.primary.text}`},onClick:c},"Paste JWT Token"),v.createElement("span",{style:{paddingRight:"10px",paddingLeft:"10px"}},"or")),o&&v.createElement(v.Fragment,null,v.createElement(d.Button,{"data-testid":q,type:"button",fill:"outline",style:{color:`${l.colors.primary.text}`},onClick:()=>{r()}},"Upload JWT Token"),v.createElement("span",{style:{paddingRight:"10px",paddingLeft:"10px"}},"or")),v.createElement(d.Button,{"data-testid":$,type:"button",fill:"outline",style:{color:`${l.colors.primary.text}`},onClick:t},"Fill In JWT Token manually"),o&&a&&v.createElement(d.Field,null,v.createElement(d.Button,{type:"button",fill:"outline",style:{color:`${l.colors.primary.text}`},onClick:s},"Upload JWT Token")))},H=e=>{if(!L.isObject(e))return{isValid:!1,error:"Invalid JWT token"};const t=Z.filter(t=>!e[t]);return t.length>0?{isValid:!1,error:`Missing keys: ${t.join(", ")}`}:{isValid:!0}},{SecretFormField:X}=d.LegacyForms,ee=({options:e,onReset:t,onOptionsChange:n,showPaste:r,showUpload:o})=>{var i;const[a,u]=v.useState((e=>"privateKeyPath"in e&&""!==e.privateKeyPath?"path":"jwt")(e.jsonData)),l=t=>(0,h.onUpdateDatasourceJsonDataOption)({options:e,onOptionsChange:n},t),c=()=>{u("jwt"===a?"path":"jwt")},s=(0,d.useTheme2)(),f=v.createElement("span",null,"path"===a?v.createElement("a",{className:"external-link",onClick:c,"data-testid":Q},"Paste private key"):"Paste private key"," ","or  ","jwt"===a?v.createElement("a",{className:"external-link",onClick:c,"data-testid":M},"provide path to private file"):"provide path to private key file"),p={isConfigured:Boolean(e.secureJsonFields.privateKey),value:(null==(i=e.secureJsonData)?void 0:i.privateKey)||"",placeholder:"Enter Private key",onReset:()=>t(),onChange:(0,h.onUpdateDatasourceSecureJsonDataOption)({options:e,onOptionsChange:n},"privateKey"),"data-testid":K};return v.createElement("div",{"data-testid":z},v.createElement(d.Field,{label:"Project ID"},v.createElement(d.Input,{id:"defaultProject",width:60,value:e.jsonData.defaultProject||"",onChange:l("defaultProject")})),v.createElement(d.Field,{label:"Client email"},v.createElement(d.Input,{width:60,id:"clientEmail",value:e.jsonData.clientEmail||"",onChange:l("clientEmail")})),v.createElement(d.Field,{label:"Token URI"},v.createElement(d.Input,{width:60,id:"tokenUri",value:e.jsonData.tokenUri||"",onChange:l("tokenUri")})),"path"===a&&v.createElement(d.Field,{label:"Private key path",description:f},v.createElement(d.Input,{width:60,id:"privateKeyPath",value:e.jsonData.privateKeyPath||"",placeholder:"File location of your private key (e.g. /etc/secrets/gce.pem)",onChange:l("privateKeyPath"),"data-testid":V})),"jwt"===a&&v.createElement(v.Fragment,null,d.SecretInput?v.createElement(d.Field,{label:"Private key",description:f},v.createElement(d.SecretInput,{...p,width:60})):v.createElement(X,{...p,label:"Private key",labelWidth:10,inputWidth:20})),v.createElement(v.Fragment,null,v.createElement(d.Button,{"data-testid":N,type:"button",fill:"outline",style:{color:`${s.colors.primary.text}`},onClick:r},"Paste JWT Token"),v.createElement("span",{style:{paddingRight:"10px",paddingLeft:"10px"}},"or"),v.createElement(d.Button,{"data-testid":q,type:"button",fill:"outline",style:{color:`${s.colors.primary.text}`},onClick:o},"Upload JWT Token")))};function te(e){const{options:t,onOptionsChange:n,authOptions:r,showServiceAccountImpersonationConfig:o}=e,{jsonData:i,secureJsonFields:a,secureJsonData:u}=((e,t)=>{if(!e.jsonData.authenticationType){const n={...e,jsonData:{...e.jsonData,authenticationType:C.JWT}};return t(n),n}return e})(t,n),l=()=>Boolean(i.clientEmail&&i.defaultProject&&i.tokenUri&&(a&&a.privateKey||i.privateKeyPath)),[c,s]=(0,v.useState)(ne(i.authenticationType)),[f,p]=(0,v.useState)(l()),[g,y]=(0,v.useState)(!1),[m,_]=(0,v.useState)(!0),b=()=>{y(!1),_(!0),p(!1)},w=()=>{y(!0),_(!1),p(!1)};return v.createElement(v.Fragment,null,v.createElement(d.FieldSet,{label:"Authentication"},v.createElement(d.Field,{label:"Authentication type"},v.createElement(d.RadioButtonGroup,{options:r,value:i.authenticationType||C.JWT,onChange:e=>{p(l()),n({...t,jsonData:{...t.jsonData,authenticationType:e}}),s(ne(e))}}))),c&&v.createElement(d.FieldSet,{label:"JWT Key Details"},f?v.createElement(ee,{options:t,onReset:()=>(()=>{const e={...u},r={...t.jsonData};delete r.clientEmail,delete r.defaultProject,delete r.tokenUri,delete r.privateKeyPath,delete e.privateKey,s(!0),p(!1),n({...t,secureJsonFields:{...t.secureJsonFields,privateKey:!1},secureJsonData:e,jsonData:r})})(),onOptionsChange:n,showUpload:b,showPaste:w}):v.createElement(Y,{showConfigEditor:()=>{p(!0)},showUpload:b,showPaste:w,isPasting:g,isUploading:m,onChange:e=>{n({...t,secureJsonFields:{...a,privateKey:!0},secureJsonData:{...u,privateKey:e.privateKey},jsonData:{...i,clientEmail:e.clientEmail,defaultProject:e.projectId,tokenUri:e.tokenUri}})}})," "),i.authenticationType===C.GCE&&v.createElement(d.Field,{label:"Default project"},v.createElement(d.Input,{id:"defaultProject",width:60,value:t.jsonData.defaultProject||"",onChange:(0,h.onUpdateDatasourceJsonDataOption)(e,"defaultProject")})),o&&v.createElement(d.FieldSet,{label:"Service account impersonation"},v.createElement(d.Field,{label:"Enable",htmlFor:"usingImpersonation",description:v.createElement("span",null,"Read more about service account impersonation"," ",v.createElement("a",{href:"https://cloud.google.com/iam/docs/service-account-impersonation",rel:"noreferrer",className:"external-link",target:"_blank"},"here"))},v.createElement(d.Switch,{value:t.jsonData.usingImpersonation||!1,onChange:(0,h.onUpdateDatasourceJsonDataOptionChecked)(e,"usingImpersonation"),id:"usingImpersonation"})),t.jsonData.usingImpersonation&&v.createElement(d.Field,{label:"Service account to impersonate",htmlFor:"serviceAccountToImpersonate"},v.createElement(d.Input,{id:"serviceAccountToImpersonate",width:60,value:t.jsonData.serviceAccountToImpersonate||"",onChange:(0,h.onUpdateDatasourceJsonDataOption)(e,"serviceAccountToImpersonate")}))))}const ne=e=>e===C.JWT||void 0===e;var re=c(540);const oe=({dataSourceName:e,docsLink:t,hasRequiredFields:n=!0,className:r})=>{const o=(0,d.useTheme2)(),i={container:(0,m.css)({p:{margin:0},"p + p":{marginTop:o.spacing(2)}}),text:(0,m.css)({...o.typography.body,color:o.colors.text.secondary,a:(0,m.css)({color:o.colors.text.link,textDecoration:"underline","&:hover":{textDecoration:"none"}})})};return(0,re.jsxs)("div",{className:(0,m.cx)(i.container,r),children:[(0,re.jsxs)("p",{className:i.text,children:["Before you can use the ",e," data source, you must configure it below or in the config file. For detailed instructions,"," ",(0,re.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",children:"view the documentation"}),"."]}),n&&(0,re.jsx)("p",{className:i.text,children:(0,re.jsx)("i",{children:"Fields marked with * are required"})})]})},ie=[{label:"Google JWT File",value:C.JWT,ariaLabel:B},{label:"GCE Default Service Account",value:C.GCE,ariaLabel:G}];function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ue=(le=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ae(e,t,n[t])})}return e}({},C),ce=null!=(ce={API:"key"})?ce:{},Object.getOwnPropertyDescriptors?Object.defineProperties(le,Object.getOwnPropertyDescriptors(ce)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}(Object(ce)).forEach(function(e){Object.defineProperty(le,e,Object.getOwnPropertyDescriptor(ce,e))}),le);var le,ce;const se=[{label:"API Key",value:ue.API},...ie];function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){fe(e,t,n[t])})}return e}function he(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}const de=({authenticationType:e})=>{const[t,n]=(0,v.useState)(!1),r=(0,d.useTheme2)();return g().createElement(d.Collapse,{collapsible:!0,label:"Configure Google Sheets Authentication",isOpen:t,onToggle:()=>n(e=>!e)},(()=>{switch(e){case ue.API:return g().createElement(g().Fragment,null,g().createElement("h4",null,"Generate an API key"),g().createElement("ol",{style:{listStylePosition:"inside"}},g().createElement("li",null,"Open the"," ",g().createElement("a",{href:"https://console.cloud.google.com/apis/library/sheets.googleapis.com?q=sheet",target:"_blank",style:{color:r.colors.text.link},rel:"noreferrer noopener"},"Google Sheets")," ","in API Library and enable access for your account."),g().createElement("li",null,"Open the"," ",g().createElement("a",{href:"https://console.developers.google.com/apis/credentials",target:"_blank",rel:"noreferrer noopener",style:{color:r.colors.text.link}},"Credentials page")," ","in the Google API Console."),g().createElement("li",null,"Click ",g().createElement("strong",null,"Create Credentials")," and then click ",g().createElement("strong",null,"API key"),"."),g().createElement("li",null,"Copy the key and paste it in the API Key field below. The file contents are encrypted and saved in the Grafana database.")));case ue.GCE:return g().createElement(g().Fragment,null,g().createElement("h4",null,"Configure GCE Service Account"),g().createElement("p",null,"When Grafana is running on a Google Compute Engine (GCE) virtual machine, Grafana can automatically retrieve default credentials from the metadata server. As a result, there is no need to generate a private key file for the service account. You also do not need to upload the file to Grafana. The following preconditions must be met before Grafana can retrieve default credentials."),g().createElement("ol",{style:{listStylePosition:"inside",marginBottom:r.spacing()}},g().createElement("li",null,"You must create a Service Account for use by the GCE virtual machine. For more information, refer to"," ",g().createElement("a",{href:"https://cloud.google.com/compute/docs/access/create-enable-service-accounts-for-instances#createanewserviceaccount",target:"_blank",style:{color:r.colors.text.link},rel:"noreferrer noopener"},"Create new service account"),"."),g().createElement("li",null,"Verify that the GCE virtual machine instance is running as the service account that you created. For more information, refer to"," ",g().createElement("a",{href:"https://cloud.google.com/compute/docs/access/create-enable-service-accounts-for-instances#using",target:"_blank",style:{color:r.colors.text.link},rel:"noreferrer noopener"},"setting up an instance to run as a service account"),"."),g().createElement("li",null,"Allow access to the specified API scope.")),g().createElement("p",null,"For more information about creating and enabling service accounts for GCE instances, refer to"," ",g().createElement("a",{href:"https://cloud.google.com/compute/docs/access/create-enable-service-accounts-for-instances",target:"_blank",style:{color:r.colors.text.link},rel:"noreferrer noopener"},"enabling service accounts for instances in Google documentation"),"."));default:return g().createElement(g().Fragment,null,g().createElement("h4",null,"Generate a JWT file"),g().createElement("ol",{style:{listStylePosition:"inside",marginBottom:r.spacing()}},g().createElement("li",null,"Open the"," ",g().createElement("a",{href:"https://console.cloud.google.com/apis/library/sheets.googleapis.com?q=sheet",target:"_blank",style:{color:r.colors.text.link},rel:"noreferrer noopener"},"Google Sheets")," ","in API Library and enable access for your account."),g().createElement("li",null,"Open the"," ",g().createElement("a",{href:"https://console.cloud.google.com/apis/library/drive.googleapis.com?q=drive",target:"_blank",style:{color:r.colors.text.link},rel:"noreferrer noopener"},"Google Drive")," ","in API Library and enable access for your account. Access to the Google Drive API is used to list all spreadsheets to which you have access."),g().createElement("li",null,"Open the"," ",g().createElement("a",{href:"https://console.developers.google.com/apis/credentials",target:"_blank",style:{color:r.colors.text.link},rel:"noreferrer noopener"},"Credentials")," ","page in the Google API Console."),g().createElement("li",null,"Click ",g().createElement("code",null,"Create Credentials")," then click ",g().createElement("code",null,"Service account"),"."),g().createElement("li",null,"In the ",g().createElement("strong",null,"Create service account")," section, provide a name, account ID and description, then click ",g().createElement("code",null,"Create and continue"),"."),g().createElement("li",null,"Ignore the ",g().createElement("strong",null,"Service account permissions")," and ",g().createElement("strong",null,"Principals with access")," ","sections, just click ",g().createElement("code",null,"Done"),"."),g().createElement("li",null,"Click into the details for the service account, navigate to the ",g().createElement("strong",null,"Keys")," tab, and click"," ",g().createElement("code",null,"Add Key"),". Choose key type ",g().createElement("strong",null,"JSON")," and click ",g().createElement("code",null,"Create"),". A JSON key file will be created and downloaded to your computer."),g().createElement("li",null,"Share any private files/folders you want to access with the service account's email address. The email is specified as ",g().createElement("strong",null,"client_email")," in the Google JWT File."),g().createElement("li",null,"Drag the file to the dotted zone below. Then click ",g().createElement("code",null,"Save & Test"),". The file contents will be encrypted and saved in the Grafana database.")))}})())};function ve(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function ge(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){ve(i,r,o,a,u,"next",e)}function u(e){ve(i,r,o,a,u,"throw",e)}a(void 0)})}}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ye(e,t,n[t])})}return e}function _e(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class we extends v.PureComponent{render(){const{data:e}=this.props;return e&&e.length?g().createElement("div",null,g().createElement("h3",null,"Google Sheets Metadata"),e.map(e=>this.renderInfo(e))):g().createElement("div",null,"No Data")}constructor(...e){super(...e),be(this,"state",{index:0}),be(this,"renderInfo",e=>{var t;const n=null===(t=e.meta)||void 0===t?void 0:t.custom;return n?g().createElement("div",null,g().createElement("h3",null,"Info"),g().createElement("pre",null,JSON.stringify(n,null,2))):null})}}var Oe=c(269);function Ee(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){je(e,t,n[t])})}return e}function ke(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}const xe=e=>{const[t,n]=(0,v.useState)([]),[r,o]=(0,v.useState)(!1),{query:i,datasource:a,onChange:u,onRunQuery:l}=e,c=(0,d.useTheme2)(),s=Pe(c);return(0,v.useEffect)(()=>{(e=>{return(t=function*(){try{var t,r;o(!0);const i=yield(0,Oe.lastValueFrom)(a.query(De(e))),u=(null!==(t=null==i||null===(r=i.data[0])||void 0===r?void 0:r.fields)&&void 0!==t?t:[]).map(e=>e.name);n(u)}catch(e){n([])}finally{o(!1)}},function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){Ee(i,r,o,a,u,"next",e)}function u(e){Ee(i,r,o,a,u,"throw",e)}a(void 0)})})();var t})(i)},[i,a]),g().createElement(g().Fragment,null,g().createElement(P,{query:i,datasource:a,onChange:u,onRunQuery:l}),g().createElement(d.InlineFieldRow,{className:s.rowSpacing},g().createElement(d.InlineFormLabel,{width:10,tooltip:"This field determines the value used for the variable",className:"query-keyword"},"Value Field"),g().createElement(d.Select,{"data-testid":"value-field-select",allowCustomValue:!0,value:i.valueField,onChange:e=>{var t;return u(ke(Se({},i),{valueField:null!==(t=e.value)&&void 0!==t?t:""}))},width:64,placeholder:r?"Loading...":"Select",options:t.map(e=>({label:e,value:e}))})),g().createElement(d.InlineFieldRow,{className:s.rowSpacing},g().createElement(d.InlineFormLabel,{width:10,tooltip:"This field determines the text used for the variable",className:"query-keyword"},"Label Field"),g().createElement(d.Select,{"data-testid":"label-field-select",allowCustomValue:!0,value:i.labelField,onChange:e=>{var t;return u(ke(Se({},i),{labelField:null!==(t=e.value)&&void 0!==t?t:""}))},width:64,placeholder:r?"Loading...":"Select",options:t.map(e=>({label:e,value:e}))})),g().createElement(g().Fragment,null,g().createElement(d.Label,{className:s.filterSection},"Optional filtering"),g().createElement(d.InlineFieldRow,{className:s.rowSpacing},g().createElement(d.InlineFormLabel,{width:10,tooltip:"Select the column to filter on",className:"query-keyword"},"Filter Field"),g().createElement(d.Select,{"data-testid":"filter-field-select",value:i.filterField,onChange:e=>u(ke(Se({},i),{filterField:e.value})),width:64,placeholder:r?"Loading...":"Select",options:t.map(e=>({label:e,value:e})),allowCustomValue:!0})),g().createElement(d.InlineFieldRow,{className:s.rowSpacing},g().createElement(d.InlineFormLabel,{width:10,tooltip:"Enter the value to filter for in the selected column",className:"query-keyword"},"Filter Value"),g().createElement(d.Input,{"data-testid":"filter-value-input",value:i.filterValue||"",onChange:e=>u(ke(Se({},i),{filterValue:e.currentTarget.value})),width:64,placeholder:"Enter filter value"}))))},Pe=e=>({rowSpacing:(0,m.css)({marginBottom:e.spacing(.5)}),filterSection:(0,m.css)({marginTop:e.spacing(2),marginBottom:e.spacing(1)})}),De=e=>({targets:[ke(Se({},e),{refId:"metricFindQuery"})],range:(0,h.getDefaultTimeRange)(),requestId:"metricFindQuery",interval:"1s",intervalMs:1e3,timezone:"browser",panelId:1,dashboardUID:"1",scopedVars:{},startTime:Date.now(),app:h.CoreApp.Unknown});function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ie(e,t,n[t])})}return e}function Te(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}class Fe extends h.CustomVariableSupport{query(e){let t=Te(Ce({},null==e?void 0:e.targets[0]),{refId:"metricFindQuery"}),n=this.datasource.interpolateVariableQuery(t,e.scopedVars);return this.datasource.query(Te(Ce({},e),{targets:[n]})).pipe((0,Oe.map)(e=>Te(Ce({},e),{data:e.data||[]}))).pipe((0,Oe.map)(e=>Ae(n,e)))}constructor(e){super(),Ie(this,"datasource",void 0),Ie(this,"editor",void 0),this.datasource=e,this.editor=xe,this.datasource=e,this.query=this.query.bind(this)}}const Ae=(e,t)=>{var n,r,o;if((null==t||null===(n=t.data)||void 0===n?void 0:n.length)<1||!(null===(o=t.data[0])||void 0===o||null===(r=o.fields)||void 0===r?void 0:r.length))return Te(Ce({},t),{data:[]});const i=t.data[0],a=i.fields.find(t=>t.name===e.valueField);if(!a)return Te(Ce({},t),{data:[]});const u=e.labelField?i.fields.find(t=>t.name===e.labelField):null,l=e.filterField?i.fields.find(t=>t.name===e.filterField):null,c=[];for(let t=0;t<a.values.length;t++){const n=a.values.get(t),r=u?u.values.get(t):n;if(n&&r){if(e.filterField&&e.filterValue&&l){if(l.values.get(t)!==e.filterValue)continue}c.push({value:n,text:r})}}return Te(Ce({},t),{data:c})};function Re(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){We(e,t,n[t])})}return e}function Ue(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}class Je extends y.DataSourceWithBackend{query(e){return(e=>{e.app!==h.CoreApp.Dashboard&&e.app!==h.CoreApp.PanelViewer&&e.targets.forEach(t=>{var n,r;(0,y.reportInteraction)("grafana_google_sheets_query_executed",{app:e.app,useTimeFilter:null!==(n=t.useTimeFilter)&&void 0!==n&&n,cacheDurationSeconds:null!==(r=t.cacheDurationSeconds)&&void 0!==r?r:0})})})(e),super.query(e)}applyTemplateVariables(e,t){var n;return Ue(Le({},e),{spreadsheet:null!==(n=this.interpolateVariable(e.spreadsheet,t))&&void 0!==n?n:"",range:this.interpolateVariable(e.range,t)})}interpolateVariableQuery(e,t){return Ue(Le({},this.applyTemplateVariables(e,t)),{filterValue:this.interpolateVariable(e.filterValue,t),filterField:this.interpolateVariable(e.filterField,t),valueField:this.interpolateVariable(e.valueField,t),labelField:this.interpolateVariable(e.labelField,t)})}interpolateVariable(e,t){return e?this.templateSrv.replace(e,t):e}getSpreadSheets(){return(e=function*(){return this.getResource("spreadsheets").then(({spreadsheets:e})=>e?Object.entries(e).map(([e,t])=>({label:t,value:e,description:e})):[])},function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Re(i,r,o,a,u,"next",e)}function u(e){Re(i,r,o,a,u,"throw",e)}a(void 0)})}).call(this);var e}getDefaultQuery(e){return{spreadsheet:this.instanceSettings.jsonData.defaultSheetID||""}}constructor(e,t=(0,y.getTemplateSrv)()){super(e),We(this,"instanceSettings",void 0),We(this,"templateSrv",void 0),We(this,"authType",void 0),We(this,"annotations",void 0),this.instanceSettings=e,this.templateSrv=t,this.annotations={},this.authType=e.jsonData.authenticationType,this.variables=new Fe(this)}}const Ne=new h.DataSourcePlugin(Je).setConfigEditor(function(e){var t;const n=function(e){var t;const n=he(pe({},e),{jsonData:pe({},e.jsonData),secureJsonFields:pe({},e.secureJsonFields)});return n.jsonData.authenticationType=e.jsonData.authenticationType||e.jsonData.authType,n.jsonData.authenticationType===ue.JWT&&(null===(t=e.secureJsonFields)||void 0===t?void 0:t.jwt)&&(n.jsonData.clientEmail="configured",n.jsonData.defaultProject="configured",n.jsonData.tokenUri="configured",n.secureJsonFields.privateKey=!0),n}(e.options),[r,o]=(0,v.useState)(n.jsonData.defaultSheetID),i=(0,v.useRef)(n.jsonData.defaultSheetID),a={isConfigured:Boolean(n.secureJsonFields.apiKey),value:(null===(t=n.secureJsonData)||void 0===t?void 0:t.apiKey)||"",placeholder:"Enter API key",id:"apiKey",onReset:()=>e.onOptionsChange(_e(me({},n),{secureJsonFields:_e(me({},n.secureJsonFields),{apiKey:!1}),secureJsonData:{apiKey:""},jsonData:n.jsonData})),onChange:(0,h.onUpdateDatasourceSecureJsonDataOption)(e,"apiKey")};return(0,v.useEffect)(()=>{const e=n.jsonData.defaultSheetID;if(i.current===e)return()=>{};if(i.current=e,!e||!n.uid){const t=setTimeout(()=>{o(e)},0);return()=>clearTimeout(t)}return ge(function*(){try{const t=yield(0,y.getDataSourceSrv)().get(n.uid),r=(yield t.getSpreadSheets()).find(t=>t.value===e);o(r||e)}catch(t){o(e)}})(),()=>{}},[n.jsonData.defaultSheetID,n.uid]),g().createElement(g().Fragment,null,g().createElement(oe,{dataSourceName:"Google Sheets",docsLink:"https://grafana.com/docs/plugins/grafana-googlesheets-datasource/latest/",hasRequiredFields:!1}),g().createElement(d.Divider,null),g().createElement("div",{className:"grafana-info-box"},g().createElement("h5",null,"Choosing an authentication type"),g().createElement("ul",null,g().createElement("li",null,g().createElement("strong",null,"Google JWT File"),": provides access to private spreadsheets and works in all environments where Grafana is running."),g().createElement("li",null,g().createElement("strong",null,"API Key"),": simpler configuration, but requires spreadsheets to be public."),g().createElement("li",null,g().createElement("strong",null,"GCE Default Service Account"),": automatically retrieves default credentials. Requires Grafana to be running on a Google Compute Engine virtual machine.")),g().createElement("br",null),g().createElement("p",null,g().createElement("strong",null,"Select an Authentication type below and expand ",g().createElement("strong",null,"Configure Google Sheets Authentication")," for detailed guidance on configuration"),".")),g().createElement(de,{authenticationType:n.jsonData.authenticationType}),g().createElement(d.Divider,null),g().createElement(te,{authOptions:se,onOptionsChange:e.onOptionsChange,options:n}),n.jsonData.authenticationType===ue.API&&g().createElement(d.Field,{label:"API Key"},g().createElement(d.SecretInput,_e(me({},a),{label:"API key",width:40}))),g().createElement(d.Divider,null),g().createElement(d.Field,{label:"Default Spreadsheet ID",description:"Optional spreadsheet ID to use as default when creating new queries"},g().createElement(d.SegmentAsync,{loadOptions:()=>ge(function*(){if(!n.uid)return[];try{return(yield(0,y.getDataSourceSrv)().get(n.uid)).getSpreadSheets()}catch(e){return[]}})(),placeholder:"Select Spreadsheet ID",value:r,allowCustomValue:!0,onChange:t=>{const r="string"==typeof t?t:null==t?void 0:t.value;o(t),e.onOptionsChange(_e(me({},n),{jsonData:_e(me({},n.jsonData),{defaultSheetID:r})}))}})))}).setQueryEditor(P).setMetadataInspector(we);return s})());
//# sourceMappingURL=module.js.map